(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{339:function(e,t,n){},565:function(e,t,n){},566:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(22),i=n.n(r),c=(n(339),n(637)),o=n(304),s=Object(o.a)({typography:{fontFamily:'"Spartan", sans-serif',fontSize:12,button:{textTransform:"none",fontWeight:700}},palette:{common:{black:"#000",white:"#fff"},primary:{main:"#000"},secondary:{main:"#DCDCDC"}},shape:{borderRadius:5}}),l=n(17),d=n(31),u=n(633),j=n(310),h=n(656),b=n(632),p=n(76),m=n(75),f=Object(m.a)((function(){return{root:{minHeight:"100vh","& .MuiInput-underline:before":{borderBottom:"1.2px solid rgba(0, 0, 0, 0.2)"},display:"flex",justifyContent:"center"},navbar:{display:"flex",justifyContent:"space-between",backgroundColor:"black",color:"white"},loginContainer:{maxHeight:"75vh",marginTop:"5vh"},authWrapper:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexDirection:"column",minHeight:"100vh",paddingTop:23},welcome:{fontSize:"3em",paddingBottom:20,color:"#000000",fontWeight:900,fontFamily:"'Open Sans'"}}})),x=n(6),g=n.n(x),O=n(9),v=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n}),credentials:"include"},e.next=3,fetch("https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/auth/login",a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=n(569),y=n(312),N=n(42),C=n(16),k=Object(m.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"space-around"},textField:{margin:0,border:"0.5 solid rgba(0, 0, 0, .1)"},label:{fontSize:"1em",color:"rgb(0,0,0,0.7)",paddingLeft:"5px"},inputs:{margin:".4rem 0",height:"2rem",padding:"5px"},forgot:{paddingRight:10,color:"#3a8dff"},submit:{margin:e.spacing(3,2,2),padding:10,width:160,height:56,borderRadius:0,marginTop:49,fontSize:16,backgroundColor:"#000",fontWeight:"bold"},reset:{textDecoration:"none",color:"rgb(6,69,173)","&:hover":{textDecoration:"underline"}}}})),S=n(629),T=n(279),I=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenId:t}),credentials:"include"},e.next=3,fetch("https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/auth/google-login",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=n(1);function D(e){var t=e.handleSubmit,n=e.handleDemoSubmit,a=k(),r=function(e){I(e.tokenObj.id_token),location.reload()},i=function(e){if(!e)throw new Error("Could not connect to server, please try again")};return Object(P.jsx)(N.a,{initialValues:{email:"",password:""},validationSchema:C.d().shape({email:C.f().required("Email is required").email("Email is not valid"),password:C.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short")}),onSubmit:t,children:function(e){var t=e.handleSubmit,c=e.handleChange,o=e.values,s=e.touched,d=e.errors,u=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,className:a.form,noValidate:!0,children:[Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsx)(p.a,{className:a.label,children:"E-mail"}),Object(P.jsx)(y.a,{id:"email",placeholder:"Enter e-mail address",fullWidth:!0,margin:"normal",className:a.textField,InputProps:{classes:{input:a.inputs}},name:"email",autoComplete:"email",autoFocus:!0,helperText:s.email?d.email:"",error:s.email&&Boolean(d.email),value:o.email,onChange:c})]}),Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsx)(p.a,{className:a.label,children:"Password"}),Object(P.jsx)(y.a,{id:"password",placeholder:"Enter password",fullWidth:!0,margin:"normal",className:a.textField,InputProps:{classes:{input:a.inputs}},type:"password",autoComplete:"current-password",helperText:s.password?d.password:"",error:s.password&&Boolean(d.password),value:o.password,onChange:c})]}),Object(P.jsx)(h.a,{children:Object(P.jsx)(l.b,{className:a.reset,to:"/forgot-password",children:"Forgot Password?"})}),Object(P.jsxs)(h.a,{textAlign:"center",children:[Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:a.submit,children:u?Object(P.jsx)(S.a,{style:{color:"white"}}):"SIGN IN"}),Object(P.jsx)(w.a,{onClick:function(){return n({email:"stanley@gmail.com",password:"123456"})},size:"large",variant:"contained",color:"primary",className:a.submit,children:u?Object(P.jsx)(S.a,{style:{color:"white"}}):"DEMO"}),Object(P.jsx)(T.GoogleLogin,{clientId:"957246139636-2mjg8o2ggfn63l16t9n95u3qi840shk9.apps.googleusercontent.com",buttonText:"Sign In With Google",onSuccess:r,onFailure:i,cookiePolicy:"single_host_origin"})]}),Object(P.jsx)("div",{style:{height:95}})]})}})}var W=n(11),z=Object(m.a)((function(e){var t,n,a;return{authHeader:(t={justifyContent:"space-between",alignItems:"center",display:"flex",flexWrap:"wrap",backgroundColor:"black",padding:"2.5rem"},Object(W.a)(t,e.breakpoints.down("md"),{justifyContent:"center",padding:"1.5rem"}),Object(W.a)(t,"flex",1),t),tattooArt:(n={fontSize:"2em",marginLeft:20,letterSpacing:".4em",textTransform:"uppercase"},Object(W.a)(n,e.breakpoints.down("md"),{margin:"0 25 0 24",display:"flex",justifyContent:"center",textAlign:"center",width:"100%"}),Object(W.a)(n,e.breakpoints.down("xs"),{margin:0}),n),linkContainer:(a={justifyContent:"space-between"},Object(W.a)(a,e.breakpoints.down("md"),{justifyContent:"center",marginLeft:49}),Object(W.a)(a,e.breakpoints.down("xs"),{marginLeft:0}),a),navLink:{"&:hover":{cursor:"pointer"},padding:5,textDecoration:"none"},loginButton:Object(W.a)({color:"white",border:"1px solid white",marginRight:20,borderRadius:0,width:"10rem",textTransform:"uppercase"},e.breakpoints.down("sm"),{margin:"20px 51px 0 51px"}),createContestBtn:{borderRadius:0,border:"1px solid white",color:"white",width:"10rem","&:hover":{backgroundColor:"white",color:"black"}}}})),B=n(8),E=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include"},e.next=3,fetch("https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/auth/user",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include"},e.next=3,fetch("https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/auth/logout",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=Object(a.createContext)({loggedInUser:void 0,updateLoginContext:function(){return null},logout:function(){return null}}),L=function(e){var t=e.children,n=Object(a.useState)(),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(d.g)(),s=Object(d.h)().pathname,l=Object(a.useCallback)((function(e){c(e.user),o.push("/dashboard")}),[o]),u=Object(a.useCallback)(Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A().then((function(){o.push("/dashboard"),c(null)})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),[o]);return Object(a.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E().then((function(e){if(e.success)l(e.success),o.push("/dashboard");else{if(c(null),s.includes("/reset-password")||s.includes("/login")||s.includes("/forgot-password")||s.includes("/signup")||s.includes("/contest/:id"))return;o.push("/dashboard")}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(P.jsx)(_.Provider,{value:{loggedInUser:i,updateLoginContext:l,logout:u},children:t})};function R(){return Object(a.useContext)(_)}var F=n(663),M=function(e){var t=e.user;return Object(P.jsx)(F.a,{alt:"Profile Image",src:t.profilePic||"https://robohash.org/".concat(t.email,".png")})},U=n(311),G=n(305),q=n(630),V=n(280),Y=n.n(V),H=Object(m.a)((function(){return{container:{marginLeft:20},account:{"&:hover":{cursor:"pointer"}},link:{textDecoration:"none",color:"black"},menuItem:{display:"flex",justifyContent:"center",padding:"15px 70px","&:hover":{border:"1px solid white",backgroundColor:"black",color:"white"}}}})),J=function(){var e=R().loggedInUser,t=Object(a.useState)(null),n=Object(B.a)(t,2),r=n[0],i=n[1],c=Boolean(r),o=R().logout,s=H(),d=function(){i(null)};return Object(P.jsxs)(h.a,{display:"flex",alignItems:"center",className:s.container,children:[Object(P.jsxs)(h.a,{display:"flex",alignItems:"center",onClick:function(e){i(e.currentTarget)},className:s.account,children:[Object(P.jsx)(p.a,{color:"secondary",children:"Account"}),Object(P.jsx)(U.a,{"aria-label":"show auth menu","aria-controls":"auth-menu","aria-haspopup":"true",color:"secondary",children:Object(P.jsx)(Y.a,{})})]}),Object(P.jsxs)(G.a,{id:"auth-menu",anchorEl:r,keepMounted:!0,open:c,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null,children:[Object(P.jsx)(q.a,{onClick:function(){d(),o()},style:{marginTop:-7},className:s.menuItem,children:"Logout"}),Object(P.jsx)(l.b,{className:s.link,to:"/profile",children:Object(P.jsx)(q.a,{className:s.menuItem,children:"Profile"})}),Object(P.jsx)(l.b,{className:s.link,to:"/settings",children:Object(P.jsx)(q.a,{className:s.menuItem,children:"Settings"})}),Object(P.jsx)(l.b,{className:s.link,to:{pathname:"/artist",state:"".concat(null===e||void 0===e?void 0:e.id)},children:Object(P.jsx)(q.a,{className:s.menuItem,children:"About"})})]})]})},$=Object(m.a)((function(e){return{typography:{padding:e.spacing(2),fontSize:15,fontWeight:"bold",paddingBottom:"0"},authHeaderText:{marginRight:10},poptitle:{margin:"15px",fontWeight:"bold",fontSize:25},time:{marginLeft:15,marginBottom:20},avatar:{height:45,width:e.spacing(6),marginTop:15,marginLeft:15},seeAll:{marginLeft:70,marginTop:50,fontSize:15},popUpBox:{top:"15px !important",height:"80%"},notificationContainer:{"&:hover":{backgroundColor:"black",color:"#fff"}},link:{textDecoration:"none",color:"black"},badge:{}}})),K=n(282),Z=n.n(K),Q=n(631),X=n(626),ee=n(7),te="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",ne=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=3,fetch(te+"notification",n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to send notification",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(te+"notification",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to get notifications",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.opened=!0,n={method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=4,fetch(te+"notification/update/".concat(t._id),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to update notifications",err:e}}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(te+"notification/".concat(t),n).then((function(e){return e.status})).catch((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=n(28),oe=n(281),se=Object(a.createContext)({socket:void 0,initSocket:function(){return null},socketNotification:void 0,message:void 0}),le=function(e){var t=e.children,n=Object(a.useState)(void 0),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(),j=Object(B.a)(u,2),h=j[0],b=j[1],p=Object(a.useCallback)((function(){console.log("trying to connect"),c(Object(oe.io)("/",{withCredentials:!0}))}),[]);return Object(a.useEffect)((function(){null===i||void 0===i||i.on("getNotification",(function(e){d(e)}))})),Object(a.useEffect)((function(){null===i||void 0===i||i.on("receive-message",(function(e){b(e)}))})),Object(P.jsx)(se.Provider,{value:{socket:i,initSocket:p,message:h,socketNotification:l},children:t})};function de(){return Object(a.useContext)(se)}var ue=Object(a.createContext)({notifications:[],setNotifications:function(){}}),je=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useContext)(se).socketNotification;return Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:(t=e.sent)?c(t):new Error("Notifications not found");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){if(o){var e=i.length?[].concat(Object(ce.a)(i),[o]):[o];c(e)}}),[o]),(null===i||void 0===i?void 0:i.length)&&(null===i||void 0===i||i.sort((function(e,t){return new Date(t.createdAt).valueOf()-new Date(e.createdAt).valueOf()}))),Object(P.jsx)(ue.Provider,{value:{notifications:i,setNotifications:c},children:t})},he=Object(ee.a)({"@global":{".MuiPopover-paper":{paddingBottom:40},"*::-webkit-scrollbar":{width:"0px"},".badge.MuiSvgIcon-root":{background:"black"},".MuiBadge-badge.MuiBadge-anchorOriginTopRightRectangle.MuiBadge-colorSecondary ":{fontWeight:"bold",fontSize:"13px",backgroundColor:"#fff"}}})((function(){return null})),be=function(){var e=Object(a.useContext)(ue).notifications,t=$(),n=Object(a.useState)(null),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Boolean(i),s=o?"simple-popover":void 0,d=(null===e||void 0===e?void 0:e.length)?null===e||void 0===e?void 0:e.filter((function(e){return!1===e.opened})):[],u=function(e){var t=new Date(e),n=Math.abs(t.valueOf()-(new Date).valueOf()),a=Math.ceil(n/864e5),r=Math.ceil(n/36e5),i=Math.ceil(n/6e4),c=Math.ceil(n/1e3);return c<=1&&i<=1&&r<=1&&a<=1?"1 second ago":c>1&&i<=1&&r<=1&&a<=1?"".concat(c," seconds ago"):c>=60&&i<=2&&r<=1&&a<=1?"1 minute ago":i>1&&r<=1&&a<=1?"".concat(i," minutes ago"):r<=2&&a<=1&&i>=60?"1 hour ago":r>1&&a<=1?"".concat(r," hours ago"):r>=24&&a<=2?"1 day ago":"".concat(a," days ago")};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he,{}),Object(P.jsxs)(w.a,{"aria-describedby":s,variant:"contained",color:"primary",onClick:function(e){d.length&&(null===d||void 0===d||d.map(function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(e.currentTarget)},children:[Object(P.jsx)(p.a,{className:t.authHeaderText,color:"secondary",children:"Notifications"}),Object(P.jsx)(Q.a,{badgeContent:(null===e||void 0===e?void 0:e.length)&&d.length,className:t.badge,color:"secondary",children:Object(P.jsx)(Z.a,{style:{color:"#fff"}})})]}),Object(P.jsxs)(X.a,{id:s,open:o,anchorEl:i,onClose:function(){c(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:t.popUpBox,children:[Object(P.jsxs)(b.a,{direction:"row",container:!0,children:[Object(P.jsx)(b.a,{item:!0,children:Object(P.jsx)(p.a,{variant:"h5",className:t.poptitle,children:"Notifications"})}),Object(P.jsx)(b.a,{item:!0,children:Object(P.jsx)(l.b,{to:{pathname:"/notifications"},style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{className:t.seeAll,children:"See All"})})})]}),(null===e||void 0===e?void 0:e.length)?null===e||void 0===e?void 0:e.map((function(e){return Object(P.jsx)(l.b,{to:e.contestId?"/contest/".concat(e.contestId):"/dashboard",className:t.link,children:Object(P.jsxs)(b.a,{direction:"row",container:!0,className:t.notificationContainer,children:[Object(P.jsx)(b.a,{item:!0,children:Object(P.jsx)(F.a,{alt:"Profile Image",src:e.profilePic,className:t.avatar})}),Object(P.jsxs)(b.a,{item:!0,children:[Object(P.jsx)(p.a,{className:t.typography,children:e.notification},e._id),Object(P.jsx)(p.a,{className:t.time,children:u(e.createdAt)},e.notification)]})]})},e._id)})):Object(P.jsx)(p.a,{align:"center",children:"You do not have any notification"})]})]})},pe=function(e){var t=e.linkTo,n=e.btnText,a=z(),r=R().loggedInUser;return Object(P.jsxs)(h.a,{p:1,className:a.authHeader,children:[Object(P.jsx)(l.b,{to:"/dashboard",className:a.navLink,children:Object(P.jsx)(p.a,{color:"secondary",className:a.tattooArt,children:"Tattoo Art"})}),r?Object(P.jsxs)(h.a,{display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:"55vw",flexWrap:"wrap",className:a.linkContainer,children:[Object(P.jsx)(l.b,{to:"/discovery",style:{textDecoration:"none"},children:Object(P.jsx)(p.a,{className:a.navLink,color:"secondary",display:"inline",children:"Discover"})}),Object(P.jsx)(l.b,{to:"/messages",style:{textDecoration:"none"},children:Object(P.jsx)(p.a,{className:a.navLink,color:"secondary",display:"inline",children:"Messages"})}),Object(P.jsx)(p.a,{className:a.navLink,color:"secondary",display:"inline",children:Object(P.jsx)(be,{})}),Object(P.jsx)(l.b,{to:t,style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{className:a.createContestBtn,size:"large",children:"Create Contest"})}),Object(P.jsxs)(h.a,{display:"flex",alignItems:"center",children:[Object(P.jsx)(M,{user:r,loggedIn:!0}),Object(P.jsx)(J,{})]})]}):Object(P.jsx)(l.b,{to:t,style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{className:a.loginButton,size:"large",children:n})})]})},me=n(661),fe=n(283),xe=n.n(fe),ge=Object(a.createContext)({updateSnackBarMessage:function(){return null}}),Oe=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useCallback)((function(e){c(e),d(!0)}),[]),j=Object(a.useCallback)((function(){d(!1)}),[]),h=Object(a.useCallback)((function(e,t){"clickaway"!==t&&d(!1)}),[]);return Object(P.jsxs)(ge.Provider,{value:{updateSnackBarMessage:u},children:[t,Object(P.jsx)(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:l,autoHideDuration:6e3,onClose:h,message:i,action:Object(P.jsx)(U.a,{size:"small","aria-label":"close",color:"inherit",onClick:j,children:Object(P.jsx)(xe.a,{fontSize:"small"})})})]})};function ve(){return Object(a.useContext)(ge)}function we(){var e=f(),t=R().updateLoginContext,n=ve().updateSnackBarMessage;return Object(P.jsxs)(b.a,{container:!0,component:"main",className:e.root,children:[Object(P.jsx)(u.a,{}),Object(P.jsx)(b.a,{item:!0,xs:12,children:Object(P.jsx)(pe,{linkTo:"/signup",btnText:"sign up"})}),Object(P.jsx)(b.a,{item:!0,xs:12,sm:8,md:7,elevation:6,component:j.a,square:!0,className:e.loginContainer,children:Object(P.jsxs)(h.a,{className:e.authWrapper,children:[Object(P.jsxs)(h.a,{width:"100%",maxWidth:450,p:3,alignSelf:"center",children:[Object(P.jsx)(b.a,{container:!0,children:Object(P.jsx)(b.a,{item:!0,xs:!0,children:Object(P.jsx)(p.a,{align:"center",className:e.welcome,component:"h1",variant:"h5",children:"sign in"})})}),Object(P.jsx)(D,{handleSubmit:function(e,a){var r=e.email,i=e.password,c=a.setSubmitting;v(r,i).then((function(e){e.error?(c(!1),n(e.error.message)):e.success?t(e.success):(console.error({data:e}),c(!1),n("An unexpected error occurred. Please try again"))}))},handleDemoSubmit:function(e){var a=e.email,r=e.password;v(a,r).then((function(e){e.error?n(e.error.message):e.success?t(e.success):(console.error({data:e}),n("An unexpected error occurred. Please try again"))}))}})]}),Object(P.jsx)(h.a,{p:1,alignSelf:"center"})]})})]})}var ye=Object(m.a)((function(e){return{paperContainer:{height:"65vh",display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"center"},previewPic:{width:150,height:150,margin:"20px 20px 0"},uploadBox:{display:"flex",height:"100%",width:"100%",flexDirection:"column",alignItems:"center",margin:"40px 0"},header:Object(W.a)({margin:"3rem 0 2rem",textAlign:"center"},e.breakpoints.down("md"),{margin:"1rem 0"}),icon:{fontSize:"10rem"},fileInputLabel:{"&:hover":{cursor:"pointer"},height:"100%",width:"100%",marginBottom:"5rem"},fileInput:{display:"none"},chooseFile:{marginTop:".5rem",marginBottom:"2rem",textAlign:"center"},mutedText:{color:"rgba(0, 0, 0, .5)"},uploadBtn:{backgroundColor:"white",border:"2px solid black",color:"black",textTransform:"uppercase",width:"15rem",borderRadius:0,padding:"25px 0","&:hover":{backgroundColor:"black",color:"white"}}}})),Ne=n(284),Ce=n.n(Ne),ke="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",Se=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",credentials:"include",body:t},e.next=3,fetch(ke+"upload/submission",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(ke+"submission/".concat(n),a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(ke+"submission/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not find Contest."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(ke+"submission/artist/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not get submission."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=n(93),We=n.n(De),ze="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",Be=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",credentials:"include",body:t},e.next=3,fetch(ze+"upload/contest",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(O.a)(g.a.mark((function e(t){var n,a,r,i=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:10,a=i.length>2&&void 0!==i[2]?i[2]:0,r={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=5,fetch(ze+"contest/?deadlineDate=".concat(t,"&howMany=").concat(n,"&page=").concat(a),r).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Cannot connect to server"}}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(ze+"contest/num",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Cannot connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(ze+"users/contests",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not find User Contests"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(ze+"contest/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not find Contest."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.a.post("/contest",t).then((function(e){return e.data})).catch((function(){return{error:{message:"Cannot create contest, Please make sure you have added a credit card to your profile."}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({winningPic:t})},e.next=3,fetch(ze+"contest/".concat(n),a).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not complete Contest."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Me(){var e=R().loggedInUser,t=de().socket,n=Object(a.useState)([]),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(B.a)(o,2),l=s[0],m=s[1],f=ye(),x=Object(d.i)(),v=ve().updateSnackBarMessage,y=Object(d.g)(),N=function(){var e=Object(O.a)(g.a.mark((function e(t){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=15;break}for(m(!0),e.prev=2,n=new FormData,a=0;a<t.target.files.length;a++)n.append("image",t.target.files[a],t.target.files[a].name);return e.next=7,Se(n);case 7:r=e.sent,c([r].concat(Object(ce.a)(i))),m(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var n=Object(O.a)(g.a.mark((function n(){var a,r,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Te(i,x.id);case 3:if(!n.sent){n.next=15;break}return v("Successfully submitted design".concat(i.length>1?"s":"")),n.next=8,Le(x.id);case 8:return a=n.sent,r={to:a.userId,notification:"".concat(null===e||void 0===e?void 0:e.username," submitted in your contest"),contestId:x.id},n.next=12,ne(r);case 12:c=n.sent,null===t||void 0===t||t.emit("sendNotification",c),y.push("/contest/".concat(x.id));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),v(n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(){return n.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(pe,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsx)(u.a,{}),Object(P.jsx)(b.a,{container:!0,alignItems:"center",justify:"center",children:Object(P.jsxs)(b.a,{container:!0,xs:6,className:f.paperContainer,children:[Object(P.jsx)(h.a,{children:l?Object(P.jsx)(S.a,{}):i.map((function(e){return Object(P.jsx)("img",{src:e,alt:"".concat(e,"tattoo"),className:f.previewPic},e)}))}),Object(P.jsxs)("label",{htmlFor:"file",className:f.fileInputLabel,children:[Object(P.jsx)("input",{type:"file",accept:"image/*",id:"file",name:"image",multiple:!1,onChange:N,className:f.fileInput}),Object(P.jsxs)(j.a,{elevation:3,className:f.uploadBox,children:[Object(P.jsx)(p.a,{variant:"h3",className:f.header,children:"Submit design"}),Object(P.jsx)(Ce.a,{fontSize:"large",className:f.icon}),Object(P.jsx)(p.a,{variant:"h5",className:f.chooseFile,children:"Click to choose a file"}),Object(P.jsx)(p.a,{className:f.mutedText,children:"High resolution images"}),Object(P.jsx)(p.a,{className:f.mutedText,children:"PNG, JPG, GIF"})]})]}),Object(P.jsx)(w.a,{disabled:!!l,className:f.uploadBtn,onClick:C,children:l?Object(P.jsx)(S.a,{}):"Submit"})]})})]})}var Ue=Object(m.a)((function(){return{root:{minHeight:"100vh","& .MuiInput-underline:before":{borderBottom:"1.2px solid rgba(0, 0, 0, 0.2)"},display:"flex",justifyContent:"center"},authWrapper:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexDirection:"column",minHeight:"100vh",paddingTop:23},loginContainer:{margin:"5vh 0"},welcome:{fontSize:"3em",paddingBottom:20,color:"#000000",fontWeight:900,fontFamily:"'Open Sans'"}}})),Ge=function(){var e=Object(O.a)(g.a.mark((function e(t,n,a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:n,password:a}),credentials:"include"},e.next=3,fetch("https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/auth/register",r).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),qe=Object(m.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"space-around"},textField:{margin:0,border:"0.5 solid rgba(0, 0, 0, .1)"},label:{fontSize:"1em",color:"rgb(0,0,0,0.7)",paddingLeft:"5px"},inputs:{margin:".4rem 0",height:"2rem",padding:"5px",borderRadius:0},forgot:{paddingRight:10,color:"#3a8dff"},submit:{margin:e.spacing(3,2,2),padding:10,width:160,height:56,marginTop:49,fontSize:16,backgroundColor:"#000",fontWeight:"bold",borderRadius:0,color:"white"}}})),Ve=function(e){var t=e.handleSubmit,n=e.handleDemoSubmit,a=qe();return Object(P.jsx)(N.a,{initialValues:{email:"",password:"",username:""},validationSchema:C.d().shape({username:C.f().required("Username is required").max(40,"Username is too long"),email:C.f().required("Email is required").email("Email is not valid"),password:C.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short")}),onSubmit:t,children:function(e){var t=e.handleSubmit,r=e.handleChange,i=e.values,c=e.touched,o=e.errors,s=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,className:a.form,noValidate:!0,children:[Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsx)(p.a,{className:a.label,children:"Username"}),Object(P.jsx)(y.a,{id:"username",fullWidth:!0,placeholder:"Enter your name",margin:"normal",InputProps:{classes:{input:a.inputs}},name:"username",autoComplete:"username",className:a.textField,autoFocus:!0,helperText:c.username?o.username:"",error:c.username&&Boolean(o.username),value:i.username,onChange:r})]}),Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsx)(p.a,{className:a.label,children:"E-mail"}),Object(P.jsx)(y.a,{id:"email",placeholder:"Enter e-mail address",fullWidth:!0,margin:"normal",InputProps:{classes:{input:a.inputs}},className:a.textField,name:"email",autoComplete:"email",helperText:c.email?o.email:"",error:c.email&&Boolean(o.email),value:i.email,onChange:r})]}),Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsx)(p.a,{className:a.label,children:"Password"}),Object(P.jsx)(y.a,{id:"password",placeholder:"Enter password",fullWidth:!0,margin:"normal",InputProps:{classes:{input:a.inputs}},type:"password",className:a.textField,autoComplete:"current-password",helperText:c.password?o.password:"",error:c.password&&Boolean(o.password),value:i.password,onChange:r})]}),Object(P.jsxs)(h.a,{textAlign:"center",children:[Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:a.submit,children:s?Object(P.jsx)(S.a,{style:{color:"white"}}):"SIGN IN"}),Object(P.jsx)(w.a,{onClick:function(){return n({email:"stanley@gmail.com",username:"stanleythemanly",password:"123456"})},size:"large",variant:"contained",color:"primary",className:a.submit,children:s?Object(P.jsx)(S.a,{style:{color:"white"}}):"DEMO"})]})]})}})};function Ye(){var e=Ue(),t=R().updateLoginContext,n=ve().updateSnackBarMessage;return Object(P.jsxs)(b.a,{container:!0,component:"main",className:e.root,children:[Object(P.jsx)(u.a,{}),Object(P.jsx)(b.a,{item:!0,xs:12,children:Object(P.jsx)(pe,{linkTo:"/login",btnText:"SIGN IN"})}),Object(P.jsx)(b.a,{item:!0,xs:12,sm:7,elevation:6,component:j.a,square:!0,className:e.loginContainer,children:Object(P.jsxs)(h.a,{className:e.authWrapper,children:[Object(P.jsxs)(h.a,{width:"100%",maxWidth:450,p:3,alignSelf:"center",children:[Object(P.jsx)(b.a,{container:!0,children:Object(P.jsx)(b.a,{item:!0,xs:!0,children:Object(P.jsx)(p.a,{align:"center",className:e.welcome,component:"h1",variant:"h5",children:"Sign up"})})}),Object(P.jsx)(Ve,{handleSubmit:function(e,a){var r=e.username,i=e.email,c=e.password,o=a.setSubmitting;Ge(r,i,c).then((function(e){e.error?(console.error({error:e.error.message}),o(!1),n(e.error.message)):e.success?t(e.success):(console.error({data:e}),o(!1),n("An unexpected error occurred. Please try again"))}))},handleDemoSubmit:function(e){var a=e.email,r=e.password;v(a,r).then((function(e){e.error?n(e.error.message):e.success?t(e.success):(console.error({data:e}),n("An unexpected error occurred. Please try again"))}))}})]}),Object(P.jsx)(h.a,{p:1,alignSelf:"center"})]})})]})}var He=Object(m.a)((function(e){return{grid:{width:"100%",height:"100%"},avatar:{height:"125px",width:e.spacing(17),marginBottom:"16px",marginTop:"64px"},user:{fontSize:24,textTransform:"capitalize"},button:{color:"#000000",margin:"32px",border:"1px solid #DCDCDC",width:"140px",height:"50px",borderRadius:0,"&:hover":{backgroundColor:"black",color:"white"}},fileInputLabel:{padding:"12px 15px"},fileInput:{display:"none"},tab:{textTransform:"uppercase"},container:{width:"75%",marginTop:"32px"},buttonBox:Object(W.a)({},e.breakpoints.down("xs"),{display:"flex",flexDirection:"column",justifyContent:"center"}),toolbar:{border:0},tabs:{color:"#000000",textColorPrimary:"#000000",width:"100%",fontWeight:"bold"}}})),Je=n(657),$e=n(638),Ke=n(636),Ze=n(571),Qe=n(20),Xe=Object(m.a)((function(e){return{wrapper:{padding:40,display:"flex",justifyContent:"center"},tattooArt:{padding:10,textTransform:"uppercase",fontSize:"1rem",fontWeight:900,alignSelf:"center",letterSpacing:8}}})),et=n(634),tt=n(303),nt=Object(a.createContext)({open:!1,setOpen:function(e){}}),at=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(B.a)(n,2),i=r[0],c=r[1],o=R().loggedInUser;return Object(a.useEffect)((function(){"stanleythemanly"===(null===o||void 0===o?void 0:o.username)&&c(!0)}),[o]),Object(P.jsx)(nt.Provider,{value:{open:i,setOpen:c},children:t})};function rt(){return Object(a.useContext)(nt)}var it=function(e){var t=e.steps,n=e.dontOpen,a=Xe(),r=rt(),i=r.open,c=r.setOpen,o=t.map((function(e){return Object(Qe.a)(Object(Qe.a)({},e),{},{content:(t=e.content.words,n=e.content.theme,Object(P.jsxs)(h.a,{display:"flex",flexDirection:"column",padding:"10px 20px",children:[Object(P.jsx)(p.a,{color:"primary"===n?"primary":"secondary",className:a.tattooArt,children:"tattoo art"}),Object(P.jsx)(et.a,{className:a.wrapper,style:{backgroundColor:"primary"===n?"black":"white"},children:Object(P.jsx)(p.a,{color:"primary"===n?"secondary":"primary",children:t})})]}))});var t,n}));return Object(P.jsx)(tt.a,{steps:o,showNumber:!1,isOpen:!n&&i,onRequestClose:function(){return c(!1)}})},ct=n(628),ot=n(570),st=Object(m.a)((function(e){var t;return{list:{overflow:"auto",height:"40rem"},avatar:Object(W.a)({margin:"32px",height:e.spacing(40),width:e.spacing(40)},e.breakpoints.down("xs"),{margin:0,width:"100%",height:"auto"}),grid:(t={marginLeft:"32px"},Object(W.a)(t,e.breakpoints.down("xs"),{marginLeft:0}),Object(W.a)(t,"justifyContent","flex-start"),Object(W.a)(t,"flexDirection","column"),t),typography:{fontWeight:"bold",fontSize:"22px"},contestInfo:Object(W.a)({},e.breakpoints.down("xs"),{display:"flex",justifyContent:"center"}),container:{height:"auto",marginTop:"32px",color:"#3A8DFF"},button:Object(W.a)({fontWeight:"bold",backgroundColor:"black",color:"white",padding:"8px 16px",marginLeft:"-20px"},e.breakpoints.down("sm"),{marginLeft:0}),contestContainer:Object(W.a)({},e.breakpoints.down("sm"),{justifyContent:"center",flexDirection:"column"}),noneAvailable:{display:"flex",justifyContent:"center",padding:20}}})),lt=n(635),dt=Object(m.a)((function(e){return{container:Object(W.a)({height:"auto",marginTop:"32px",color:"#3A8DFF"},e.breakpoints.down("sm"),{display:"flex",justifyContent:"center"}),typography:Object(W.a)({fontWeight:"bold",fontSize:"22px",textTransform:"capitalize"},e.breakpoints.down("sm"),{display:"flex",justifyContent:"center"}),contestInfo:Object(W.a)({},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",alignSelf:"center"}),description:Object(W.a)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"center"}),button:Object(W.a)({fontWeight:"bold",backgroundColor:"black",color:"white",padding:"8px 16px",marginLeft:"-20px"},e.breakpoints.down("sm"),{marginLeft:0})}}));function ut(e){var t=e.contest,n=dt();return t?Object(P.jsx)(lt.a,{className:n.contestInfo,primary:Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(p.a,{className:n.typography,children:t.title})}),secondary:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(p.a,{classes:{root:n.description},children:t.description}),Object(P.jsx)(Ke.a,{className:n.container,children:Object(P.jsx)(w.a,{component:l.b,to:"/contest/".concat(t._id),className:n.button,children:t.prizeAmount})})]})}):Object(P.jsx)("div",{})}var jt=Object(m.a)((function(e){return{listItem:Object(W.a)({},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",justifyContent:"center"}),text:Object(W.a)({},e.breakpoints.down("sm"),{textAlign:"center"}),typography:{fontWeight:"bold",fontSize:"22px",textTransform:"capitalize"}}}));function ht(e){var t=e.winner,n=jt();return t?Object(P.jsx)(lt.a,{className:n.listItem,primary:Object(P.jsx)(p.a,{classes:{root:n.text},className:n.typography,children:t.title}),secondary:Object(P.jsx)(p.a,{classes:{root:n.text},children:t.description})}):Object(P.jsx)("div",{})}var bt=n(575),pt=Object(m.a)((function(e){var t;return{body:(t={display:"flex",flexDirection:"column",height:"min-content",overflowY:"scroll","&::-webkit-scrollbar":{display:"none"},maxHeight:"90%",width:"70%"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"85%"}),Object(W.a)(t,"padding",15),t),artistLink:{display:"flex",alignItems:"center",padding:10,textDecoration:"none",color:"black"},artistName:{textTransform:"capitalize",marginLeft:20,fontWeight:700,fontSize:"2em"},image:{margin:"15px auto",width:"inherit",height:"auto"},modal:{display:"flex",justifyContent:"center",alignItems:"center"}}})),mt=function(e){var t=e.artistPic,n=e.artistName,r=e.image,i=e.submissionId,c=e.children,o=e.artistId,s=pt(),u=Object(a.useState)(!1),b=Object(B.a)(u,2),m=b[0],f=b[1],x=ve().updateSnackBarMessage,g=Object(d.g)();return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{onClick:function(){f(!0)},children:c}),Object(P.jsx)(bt.a,{open:m,onClose:function(){f(!1)},className:s.modal,children:Object(P.jsxs)(j.a,{className:s.body,children:[Object(P.jsxs)(h.a,{display:"flex",alignItems:"center",padding:1,children:[o?Object(P.jsxs)(l.b,{to:{pathname:"/artist",state:o},className:s.artistLink,children:[Object(P.jsx)(F.a,{src:t}),Object(P.jsx)(p.a,{className:s.artistName,children:n})]}):t?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F.a,{src:t}),Object(P.jsx)(p.a,{className:s.artistName,children:n})]}):Object(P.jsx)(p.a,{className:s.artistName,children:n}),i?Object(P.jsx)(w.a,{onClick:function(){r&&i&&Fe(r,i).then((function(e){e.error?x("Contest deadline has not been met yet"):(x("Congratulations. Your contest is now closed"),g.push("/profile"))})).catch((function(e){x(e.message)}))},children:"This is a winner!"}):null]}),Object(P.jsx)("img",{src:r,alt:"chosen design",className:s.image})]})})]})},ft=n.p+"static/media/lionTattoo.65e55871.png";function xt(e){var t=e.userContests,n=st();return Object(P.jsx)(P.Fragment,{children:t.length>0?Object(P.jsx)(ct.a,{className:n.list,children:t.map((function(e){return Object(P.jsx)(ot.a,{children:Object(P.jsxs)(b.a,{container:!0,alignItems:"center",className:n.contestContainer,children:[Object(P.jsx)(b.a,{item:!0,children:Object(P.jsx)(mt,{image:"winningPic"in e?e.winningPic:"images"in e&&e.images[0]?e.images[0]:ft,artistName:"winningArtist"in e?e.winningArtist.username:"",artistPic:"winningArtist"in e?e.winningArtist.profilePic:"",artistId:"winningArtist"in e?e.winningArtist._id:null,children:Object(P.jsx)("img",{className:n.avatar,alt:"Test Contest Image",src:"winningPic"in e?e.winningPic:"images"in e&&e.images[0]?e.images[0]:ft})})}),Object(P.jsx)(b.a,{item:!0,children:"images"in e?Object(P.jsx)(ut,{contest:e}):Object(P.jsx)(ht,{winner:e})})]})},e._id)}))}):Object(P.jsx)(p.a,{classes:{root:n.noneAvailable},children:" None Available "})})}var gt="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",Ot=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}},e.next=3,fetch(gt+"winners",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}},e.next=3,fetch(gt+"winners/".concat(t),n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",credentials:"include",body:t},e.next=3,fetch("https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/upload/profile",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function yt(e){var t=e.header,n=Object(d.g)();void 0===t&&(t=!0);var r=He(),i=Object(a.useState)(0),s=Object(B.a)(i,2),l=s[0],u=s[1],m=Object(a.useState)([]),f=Object(B.a)(m,2),x=f[0],v=f[1],y=Object(a.useState)([]),N=Object(B.a)(y,2),C=N[0],k=N[1],T=Object(a.useState)(),I=Object(B.a)(T,2),D=I[0],W=I[1],z=Object(a.useState)(!1),A=Object(B.a)(z,2),_=A[0],L=A[1],M=R(),U=M.loggedInUser,G=M.updateLoginContext,q=ve().updateSnackBarMessage,V=[{selector:'[data-tour="start-contest"]',content:{words:"This is your profile page, you can view all of your open and completed contests. Don't forget to upload a profile pic.",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"}},{selector:'[data-tour="start-contest"]',content:{words:"This is your profile page, you can view all of your open and completed contests. Don't forget to upload a profile pic.",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"},action:function(){return n.push("/settings")}}],Y=Object(o.a)({palette:{primary:{main:"#000000"},secondary:{main:"#3d3d3d"}}});Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:(t=e.sent).contests?v(t.contests):new Error("Could Not Get Contests");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot();case 2:(t=e.sent)?k(t):new Error("Could not get winners");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]);var H=function(e){return Object(P.jsx)("div",{role:"tabpanel",id:"".concat(e.index),children:l===e.index&&Object(P.jsx)(Ke.a,{children:Object(P.jsx)(p.a,{children:e.children})})})},J=function(){var e=Object(O.a)(g.a.mark((function e(a){var r,i,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!a.target.files){e.next=21;break}return L(!0),e.prev=3,(r=new FormData).append("image",a.target.files[0],a.target.files[0].name),e.next=8,wt(r);case 8:return i=e.sent,W(i),L(!1),e.next=13,E();case 13:c=e.sent,(o=c.success)&&(G(o),n.push("/profile")),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),q(e.t0.message);case 21:!0===t?n.push("/profile"):n.push("/settings");case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();return U?Object(P.jsxs)(P.Fragment,{children:[t?Object(P.jsx)(pe,{linkTo:"/create-contest",btnText:"create contest"}):"",Object(P.jsxs)(b.a,{className:r.grid,container:!0,alignItems:"center",direction:"column",children:[_?Object(P.jsx)(S.a,{}):Object(P.jsx)(F.a,{alt:"Profile Image",src:D||U.profilePic,className:r.avatar}),Object(P.jsx)(p.a,{className:r.user,children:U.username}),Object(P.jsxs)(h.a,{className:r.buttonBox,children:[Object(P.jsx)(w.a,{className:r.button,children:"Edit Profile"}),Object(P.jsx)(w.a,{className:r.button,children:Object(P.jsxs)("label",{htmlFor:"file",className:r.fileInputLabel,children:["Choose New Pic",Object(P.jsx)("input",{type:"file",accept:"image/*",id:"file",name:"image",multiple:!1,onChange:J,className:r.fileInput})]})})]}),Object(P.jsxs)(Ke.a,{className:r.container,children:[Object(P.jsxs)(Ze.a,{className:r.toolbar,children:[Object(P.jsx)(c.a,{theme:Y,children:Object(P.jsxs)(Je.a,{className:r.tabs,value:l,onChange:function(e,t){u(t)},textColor:"primary",variant:"fullWidth",children:[Object(P.jsx)($e.a,{label:"in progress",className:r.tab}),Object(P.jsx)($e.a,{label:"choose a winner",className:r.tab}),Object(P.jsx)($e.a,{label:"past winners",className:r.tab})]})}),Object(P.jsx)("div",{"data-tour":"profile"})]}),Object(P.jsxs)(j.a,{square:!0,elevation:2,children:[Object(P.jsx)(H,{value:l,index:0,children:Object(P.jsx)(xt,{userContests:x?x.filter((function(e){return e.active})):[]})}),Object(P.jsx)(H,{value:l,index:1,children:Object(P.jsx)(xt,{userContests:x?x.filter((function(e){return!e.active})):[]})}),Object(P.jsx)(H,{value:l,index:2,children:Object(P.jsx)(xt,{userContests:C})})]})]})]}),Object(P.jsx)(it,{steps:V})]}):Object(P.jsx)(S.a,{})}var Nt=n(664),Ct=Object(m.a)((function(e){return{pagination:{display:"flex",justifyContent:"center"}}}));function kt(e){var t=e.page,n=e.rowsPerPage,a=e.handleChangePage,r=e.handleChangeRowsPerPage,i=e.numContests,c=Ct();return Object(P.jsx)(Nt.a,{component:"div",count:i,page:t,onPageChange:a,rowsPerPage:n,onRowsPerPageChange:r,className:c.pagination})}var St=n(33),Tt=n(640),It=n(163),Pt=n.n(It),Dt=n(162),Wt=n(48),zt=n.n(Wt),Bt=n(642),Et=n(643),At=n(644),_t=n(645),Lt=n(639),Rt=n(646),Ft=Object(m.a)((function(e){return{grid:{height:"100%",width:"100%"},typography:{fontSize:"50px",fontWeight:"bold",borderBottom:"2px #DCDCDC",borderBottomWidth:"2px",borderBottomStyle:"solid",textAlign:"center",color:"white"},muiPicker:{textAlign:"center",marginTop:"20px"},paper:Object(W.a)({width:"50%"},e.breakpoints.down("sm"),{width:"100%"}),tableHead:{width:"100%"},tableRow:{padding:"25px 0px 25px 0px",textAlign:"center",minWidth:50},buttonReset:{fontWeight:"bold",backgroundColor:"black",color:"white",padding:"3px 7px",border:"1px solid black",margin:"28px 15px","&:hover":{color:"black"}},button:{fontWeight:"bold",backgroundColor:"black",color:"white",padding:"3px 7px",border:"1px solid black",marginLeft:"10px","&:hover":{color:"black"}}}})),Mt=n(3),Ut=Object(m.a)((function(e){return{root:Object(W.a)({marginBottom:e.spacing(3)},e.breakpoints.up("md"),{marginBottom:e.spacing(4)}),disableGutter:{marginBottom:0},title:{fontWeight:"bold"},cta:{marginLeft:e.spacing(1),"&:first-child":{marginLeft:e.spacing(0)}}}})),Gt=function(e){var t=e.title,n=e.titleVariant,a=void 0===n?"h4":n,r=e.subtitleVariant,i=e.subtitle,c=e.subtitleColor,o=e.label,s=e.overline,l=e.fadeUp,d=e.align,u=e.ctaGroup,j=e.disableGutter,h=e.titleClasses,m=e.className,f=Ut(),x="center";return"left"===d?x="flex-start":"right"===d&&(x="flex-end"),Object(P.jsxs)(b.a,{container:!0,spacing:2,"data-aos":l?"fade-up":"",className:Object(Mt.a)("section-header",f.root,j?f.disableGutter:{},m),children:[s&&Object(P.jsx)(b.a,{item:!0,container:!0,justify:x,xs:12,className:"section-header__overline-wrapper",children:s}),o&&Object(P.jsx)(b.a,{item:!0,xs:12,className:"section-header__label-wrapper",children:Object(P.jsx)(p.a,{variant:"overline",color:"primary",component:"p",align:d||"center",children:o})}),Object(P.jsx)(b.a,{item:!0,xs:12,className:"section-header__title-wrapper",children:Object(P.jsx)(p.a,{variant:a,align:d||"center",className:Object(Mt.a)("section-header__title",f.title,h||{}),color:"textPrimary",children:t})}),i&&Object(P.jsx)(b.a,{item:!0,xs:12,className:"section-header__subtitle-wrapper",children:Object(P.jsx)(p.a,{variant:r||"h6",align:d||"center",color:c||"textSecondary",className:"section-header__subtitle",children:i})}),u&&u.length&&Object(P.jsx)(b.a,{item:!0,xs:12,className:"section-header__cta-wrapper",children:Object(P.jsx)(b.a,{container:!0,justify:x,alignItems:"center",wrap:"nowrap",className:"section-header__cta-container",children:u.map((function(e,t){return Object(P.jsx)("div",{className:Object(Mt.a)("section-header__cta-item-wrapper",f.cta),children:e},t)}))})})]})},qt=function(e){var t=e.allContestsLength,n=Object(a.useState)([]),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(t),s=Object(B.a)(o,2),d=s[0],u=s[1],h=Object(a.useState)("deadlineDate"),m=Object(B.a)(h,2),f=m[0],x=(m[1],Object(a.useState)(0)),v=Object(B.a)(x,2),y=v[0],N=v[1],C=Object(a.useState)(10),k=Object(B.a)(C,2),S=k[0],T=k[1],I=Object(a.useState)(),D=Object(B.a)(I,2),W=D[0],z=D[1],E=Ft();Object(a.useEffect)((function(){W||i||u(t)}),[W,i,t]),Object(a.useEffect)((function(){if(void 0!==W){var e=zt.a.utc(W._d).format();A(e,S,y)}else A("",S,y),u(t)}),[W,S,y,t]);var A=function(){var e=Object(O.a)(g.a.mark((function e(){var t,n,a,r,i=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:10,a=i.length>2&&void 0!==i[2]?i[2]:0,e.next=5,Ee(t,n,a);case 5:(r=e.sent).contests?(c(r.contests),""!==t&&u(r.contests.length)):new Error("Could Not Get Contests");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(void 0!==W?zt.a.utc(W._d).format():"",S,n);case 2:(a=e.sent).contests&&(N(n),c(a.contests));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(e){N(0),z(e)};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(b.a,{container:!0,justify:"center",className:E.grid,children:[Object(P.jsx)(Gt,{title:Object(P.jsx)(p.a,{component:"span",variant:"inherit",color:"primary",children:"Current Contests"}),subtitle:"Here we have all of our current contests, feel free to use our date picker to find all contests that end by a certain date",fadeUp:!0}),Object(P.jsx)(b.a,{container:!0,justify:"center",className:E.muiPicker,children:Object(P.jsx)(St.a,{utils:Dt.a,children:Object(P.jsxs)(b.a,{item:!0,xs:5,children:[Object(P.jsx)(Tt.a,{id:"date",name:"deadlineDate",margin:"normal",variant:"inline",inputVariant:"outlined",format:"MMM Do YYYY",value:W,onChange:function(e){return L(e)},keyboardIcon:Object(P.jsx)(Pt.a,{}),autoOk:!0}),Object(P.jsx)(w.a,{className:E.buttonReset,onClick:function(){return L(void 0)},children:"Reset Filter"})]})})}),Object(P.jsxs)(j.a,{className:E.paper,children:[Object(P.jsx)(Bt.a,{children:Object(P.jsxs)(Et.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(P.jsx)(At.a,{children:Object(P.jsxs)(_t.a,{className:E.tableHead,children:[Object(P.jsx)(Lt.a,{className:E.tableRow,children:"Contest Title"},"Contest Title"),Object(P.jsx)(Lt.a,{className:E.tableRow,children:"Contest Description"},"Contest Description"),Object(P.jsx)(Lt.a,{className:E.tableRow,children:"Prize Amount"},"Prize Amount"),Object(P.jsx)(Lt.a,{className:E.tableRow,children:Object(P.jsx)("div",{onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(i){var t=Object(ce.a)(e).sort((function(e,t){return e[f]>t[f]?1:e[f]<t[f]?-1:0}));c(t)}}()},children:"Deadline Date"})},"Deadline Date"),Object(P.jsx)(Lt.a,{className:E.tableRow,children:"Contest Page"},"Contest Page")]})}),Object(P.jsx)(Rt.a,{children:i.map((function(e){return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(_t.a,{hover:!0,role:"checkbox",className:E.tableHead,tabIndex:-1,children:[Object(P.jsx)(Lt.a,{className:E.tableRow,children:e.title}),Object(P.jsx)(Lt.a,{className:E.tableRow,children:e.description}),Object(P.jsxs)(Lt.a,{className:E.tableRow,children:["$",e.prizeAmount]}),Object(P.jsx)(Lt.a,{className:E.tableRow,children:zt()(e.deadlineDate).local().format("MM-DD-YYYY")}),Object(P.jsx)(Lt.a,{className:E.tableRow,children:Object(P.jsx)(w.a,{className:E.button,component:l.b,to:"/contest/".concat(e._id),children:"More Info"})})]},e.title)})}))})]})}),Object(P.jsx)(kt,{page:y,rowsPerPage:S,handleChangePage:_,handleChangeRowsPerPage:function(e){T(+e.target.value),N(0)},numContests:d})]})]})})},Vt=n(290),Yt=Object(m.a)((function(e){return{root:{maxWidth:645,background:"black",margin:"20px"},media:{height:440},title:{fontWeight:"bold",fontSize:"2rem",color:"black"},description:{fontSize:"1.1rem",color:"black"},cardContent:{background:"rgb(247, 249, 250)"}}})),Ht=n(648),Jt=n(647),$t=function(e){var t=e.winningPic,n=e.title,a=(e.prizeAmount,e.description),r=(e.key,e.winningArtist),i=(e.className,Yt());return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(et.a,{className:i.root,children:[Object(P.jsx)(mt,{artistPic:r.profilePic,artistId:r._id,artistName:r.username,image:t,children:Object(P.jsx)(Jt.a,{className:i.media,image:t,title:n})}),Object(P.jsxs)(Ht.a,{className:i.cardContent,children:[Object(P.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h1",className:i.title,children:n}),Object(P.jsx)(p.a,{variant:"body2",color:"textSecondary",component:"p",className:i.description,children:a})]})]})})},Kt=Object(m.a)((function(e){var t;return{root:(t={maxWidth:1236,width:"inherit",margin:"0 auto",padding:e.spacing(6,2)},Object(W.a)(t,e.breakpoints.up("sm"),{padding:e.spacing(8,8)}),Object(W.a)(t,e.breakpoints.up("md"),{padding:e.spacing(12,8)}),t),fullWidth:{maxWidth:"100%"},disablePadding:{padding:0},narrow:{maxWidth:800}}})),Zt=function(e){var t=e.children,n=e.fullWidth,a=e.narrow,r=e.disablePadding,i=e.className,c=Kt();return Object(P.jsx)("section",{className:Object(Mt.a)("section",c.root,n?c.fullWidth:{},a?c.narrow:{},r?c.disablePadding:{},i),children:t})},Qt=n(651),Xt=n(655),en=Object(m.a)((function(){return{wrapper:{padding:"4rem 0px"},swiperContainer:{width:"100%",maxWidth:500}}})),tn=n(649),nn=Object(m.a)((function(e){return{root:{height:"100%",width:"100%",padding:"4rem 0px"},withShadow:{boxShadow:"0 2px 10px 0 rgba(23, 70, 161, .11)"},noShadow:{boxShadow:"none"},noBorder:{border:0},noBg:{background:"transparent"},liftUp:{transition:"box-shadow .25s ease,transform .25s ease,-webkit-transform .25s ease","&:hover":{boxShadow:"0 1.5rem 2.5rem rgba(22,28,45,.1),0 .3rem 0.5rem -.50rem rgba(22,28,45,.05) !important",transform:"translate3d(0,-5px,0)"}},content:Object(W.a)({height:"100%",display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(4,2),"&:last-child":{padding:e.spacing(4,2)}},e.breakpoints.up("md"),{padding:e.spacing(6,3),"&:last-child":{padding:e.spacing(6,3)}}),left:{alignItems:"flex-start"},right:{alignItems:"flex-end"},center:{alignItems:"center"}}})),an=function(e){var t=e.withShadow,n=e.noShadow,a=e.noBorder,r=e.noBg,i=e.liftUp,c=e.children,o=e.align,s=void 0===o?"center":o,l=e.className,d=nn();return Object(P.jsx)(et.a,{className:Object(Mt.a)("card-base",d.root,t?d.withShadow:{},n?d.noShadow:{},a?d.noBorder:{},r?d.noBg:{},i?d.liftUp:{},l),children:Object(P.jsx)(Ht.a,{className:Object(Mt.a)("card-base__content",d.content,d[s]),children:c})})},rn=Object(m.a)((function(){return{root:{height:"100%",width:"100%"},icon:{paddingBottom:"20px"}}})),cn=function(e){var t=e.icon,n=e.text,a=e.reviewerPhoto,r=e.reviewerName,i=e.reviewerTitle,c=e.align,o=void 0===c?"center":c,s=e.textVariant,l=void 0===s?"h6":s,d=e.className,u=rn(),j="center";return"left"===o?j="flex-start":"right"===o&&(j="flex-end"),Object(P.jsx)(an,{className:Object(Mt.a)("card-review",u.root,d),children:Object(P.jsxs)(b.a,{container:!0,spacing:2,className:"card-review__wrapper",children:[Object(P.jsx)(b.a,{item:!0,container:!0,justify:j,xs:12,className:"card-review__icon-wrapper",children:t}),Object(P.jsx)(b.a,{item:!0,xs:12,className:"card-review__text-wrapper",children:Object(P.jsx)(p.a,{variant:l,align:o,component:"p",children:n})}),Object(P.jsx)(b.a,{item:!0,xs:12,className:"card-review__lits-container",children:Object(P.jsx)(b.a,{container:!0,justify:j,className:"card-review__list-wrapper",children:Object(P.jsx)(ct.a,{disablePadding:!0,className:"card-review__list",children:Object(P.jsxs)(ot.a,{className:"card-review__list-item",children:[Object(P.jsx)(tn.a,{className:"card-review__list-item-avatar",children:Object(P.jsx)(F.a,{src:a,alt:r,className:"card-review__avatar"})}),Object(P.jsx)(lt.a,{className:"card-review__list-item-text",primary:r,secondary:i})]})})})})]})})},on=n(71),sn=Object(m.a)((function(e){return{extraSmall:{width:20,height:20},small:{width:50,height:50},medium:{width:70,height:70},large:{width:90,height:90},circle:{borderRadius:"100%"},square:{borderRadius:e.spacing(2)}}})),ln=n(650),dn=Object(m.a)((function(){return{extraSmall:{fontSize:10},small:{fontSize:20},medium:{fontSize:30},large:{fontSize:40}}})),un=function(e){var t=e.fontIconClass,n=e.size,a=void 0===n?"small":n,r=e.fontIconColor,i=e.className,c=Object(on.a)(e,["fontIconClass","size","fontIconColor","className"]),o=dn();return Object(P.jsx)(ln.a,{children:Object(P.jsx)("i",Object(Qe.a)({className:Object(Mt.a)("icon",t,o[a],i),style:{color:r}},c))})},jn=function(e){var t=e.iconProps,n=e.fontIconClass,a=e.size,r=void 0===a?"medium":a,i=e.color,c=void 0===i?[]:i,o=e.shape,s=void 0===o?"square":o,l=e.className,d=Object(on.a)(e,["iconProps","fontIconClass","size","color","shape","className"]),u=sn(),j=Object(m.a)((function(){return{background:{background:c[50]}}}))();return Object(P.jsx)(F.a,Object(Qe.a)(Object(Qe.a)({className:Object(Mt.a)("icon-alternate",u[r],u[s],j.background,l)},d),{},{children:Object(P.jsx)(un,Object(Qe.a)({size:r,fontIconClass:n,fontIconColor:c[500],className:"icon-alternate__icon"},t))}))},hn=(n.p,"https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/"),bn=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(hn+"reviews/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to get reviews",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pn=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(hn+"reviews",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to get reviews",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mn=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=3,fetch(hn+"reviews",n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to create review",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fn=(n(522),n(523),function(e){e.className;var t=Object(a.useState)(),n=Object(B.a)(t,2),r=n[0],i=n[1],c=en(),o=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn();case 2:(t=e.sent)?i(t):new Error("Could Not Get Reviews");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){new Xt.a(".swiper-container",{slidesPerView:1,pagination:{el:".swiper-container .swiper-pagination",type:"progressbar",clickable:!0},autoplay:{delay:2e3}}),o()}),[]),Object(P.jsxs)("div",{className:c.wrapper,children:[Object(P.jsx)(Gt,{title:"Customer Reviews",subtitle:"Take a look at some of our recent contest creators feedback."}),Object(P.jsx)("div",{className:Object(Mt.a)("swiper-container",c.swiperContainer),children:Object(P.jsx)("div",{className:"swiper-wrapper",children:r?r.map((function(e,t){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(cn,{className:"swiper-slide",noBorder:!0,text:e.text,icon:Object(P.jsx)(jn,{color:"black",fontIconClass:"fas fa-quote-right"}),reviewerName:e.reviewerId.username,reviewerTitle:e.reviewerContestType,reviewerPhoto:e.reviewerId.profilePic},e.text),Object(P.jsx)("div",{className:"swiper-pagination"})]})})):Object(P.jsx)("div",{})})})]})}),xn=Object(m.a)((function(e){return{root:{background:"rgb(247, 249, 250)"},inner:{maxWidth:1236,width:"100%",margin:"0 auto"},innerNarrowed:{maxWidth:800}}})),gn=function(e){var t=e.children,n=e.innerNarrowed,a=e.className,r=xn();return Object(P.jsx)("section",{className:Object(Mt.a)("section-alternate",r.root,a),children:Object(P.jsx)("div",{className:Object(Mt.a)("section-alternate__content",r.inner,n?r.innerNarrowed:{}),children:t})})},On=Object(m.a)((function(e){return{root:{backgroundSize:"contain",backgroundColor:"white"},cover:{position:"relative",zIndex:9,width:"100%",height:"100%"},image:{objectFit:"cover"}}})),vn=Object(m.a)((function(e){var t;return{root:{height:"100%",width:"100%",overflow:"hidden"},hero:Object(W.a)({position:"relative",width:"100%",height:"100%",display:"flex",maxWidth:1236,margin:"0 auto"},e.breakpoints.down("sm"),{flexDirection:"column-reverse"}),heroLeftSide:(t={},Object(W.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(3,8)}),Object(W.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(3,2)}),t),heroRightSide:Object(W.a)({maxWidth:"50%",flex:"0 0 50%",position:"relative"},e.breakpoints.down("sm"),{maxWidth:"100%",flex:"0 0 100%",height:"300px"}),heroCover:Object(W.a)({position:"relative",width:"50vw",height:"100%"},e.breakpoints.down("sm"),{width:"100%"}),heroImageContainer:{height:"100%",width:"100%",overflow:"hidden"},heroImage:Object(W.a)({position:"absolute",left:"0%",width:"100%",height:"100%"},e.breakpoints.up("md"),{shapeOutside:"polygon(10% 0%, 100% 0, 100% 100%, 0% 100%)",clipPath:"polygon(10% 0%, 100% 0, 100% 100%, 0% 100%)"})}})),wn=function(e){var t=e.leftSide,n=e.rightSide,a=e.className,r=Object(on.a)(e,["leftSide","rightSide","className"]),i=vn();return Object(P.jsxs)("div",Object(Qe.a)(Object(Qe.a)({className:Object(Mt.a)(i.root,"hero-shaped",a)},r),{},{children:[Object(P.jsxs)("div",{className:Object(Mt.a)("hero-shaped__wrapper",i.hero),children:[Object(P.jsx)(Zt,{className:Object(Mt.a)("hero-shaped__left-side",i.heroLeftSide),children:t}),Object(P.jsx)("div",{className:Object(Mt.a)("hero-shaped__right-side",i.heroRightSide),children:Object(P.jsx)("div",{className:Object(Mt.a)("hero-shaped__cover",i.heroCover),children:Object(P.jsx)("div",{className:Object(Mt.a)("hero-shaped__image-container",i.heroImageContainer),children:Object(P.jsx)("div",{className:Object(Mt.a)("hero-shaped__image",i.heroImage),children:n})})})})]}),Object(P.jsx)(Qt.a,{})]}))},yn=n(291),Nn=Object(m.a)((function(){return{root:{width:"100%",height:"100%"},dBlock:{display:"block"}}})),Cn=function(e){var t=e.src,n=e.srcSet,a=e.alt,r=void 0===a?"...":a,i=e.lazy,c=void 0===i||i,o=e.lazyProps,s=void 0===o?{width:"auto",height:"auto"}:o,l=e.className,d=Object(on.a)(e,["src","srcSet","alt","lazy","lazyProps","className"]),u=Nn();return c?Object(P.jsx)(yn.LazyLoadImage,Object(Qe.a)(Object(Qe.a)({className:Object(Mt.a)("image",u.root,u.dBlock,l),alt:r,src:t,srcSet:n,effect:"opacity"},s),d)):Object(P.jsx)("img",Object(Qe.a)({className:Object(Mt.a)("image",u.root,l),alt:r,src:t,srcSet:n},d))},kn=n.p+"static/media/heroImg.65c790d5.jpg",Sn=function(e){var t=e.className,n=On(),a=R().loggedInUser;return Object(P.jsx)("div",{className:t,children:Object(P.jsx)(wn,{leftSide:Object(P.jsx)("div",{children:Object(P.jsx)(Gt,{title:Object(P.jsx)("span",{children:Object(P.jsx)(p.a,{component:"span",variant:"inherit",color:"primary",children:"Tattoo Art"})}),subtitle:"Premier tatoo designs created by artists all over the world.",ctaGroup:[a?Object(P.jsx)(w.a,{component:l.b,to:"create-contest",variant:"contained",color:"primary",size:"large","data-tour":"start-contest",children:"Start Contest"},"button"):Object(P.jsx)(w.a,{"data-tour":"start-contest",variant:"contained",color:"primary",size:"large",children:"Start Contest"},"button")],align:"left",titleVariant:"h3"})}),rightSide:Object(P.jsx)(Cn,{src:kn,srcSet:kn,alt:"...",className:n.image,lazyProps:{width:"100%",height:"100%"}})})})},Tn=Object(m.a)((function(e){return{winnerCard:Object(W.a)({backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),winnerWrapper:{width:"100%"},table:{margin:"100px 0"}}}));function In(){var e=Object(a.useState)([]),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),c=Object(B.a)(i,2),o=c[0],s=c[1],l=Tn(),u=Object(d.g)(),j=R().loggedInUser,h=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(4);case 2:if(!(t=e.sent)){e.next=7;break}r(t),e.next=8;break;case 7:return e.abrupt("return",new Error("Could Not Get Winners"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=[{selector:'[data-tour="start-contest"]',content:{words:"You can create a contest here!",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"},updateDelay:30,scrollDuration:1500},{selector:'[data-tour="contests"]',content:{words:"Check out our active contests here!",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"},scrollDuration:1500},{selector:'[data-tour="contests"]',content:{words:"Check out our active contests here!",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"},scrollDuration:1500,action:function(){return u.push("/profile")}}];return Object(a.useEffect)((function(){h(),Ae().then((function(e){s(e)}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(pe,{linkTo:j?"/create-contest":"/login",btnText:j?"Create Contest":"Log In"}),Object(P.jsxs)(Vt.Animated,{animationIn:"bounceInRight",animationOut:"fadeOut",isVisible:!0,children:[Object(P.jsx)(Sn,{}),Object(P.jsx)(Zt,{children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(Gt,{title:Object(P.jsx)(p.a,{component:"span",variant:"inherit",color:"primary",children:"Check out some of our recent Contest winners."}),subtitle:"We Guarantee atleast 20 submissions to your contest and you could receive up to 500+.",fadeUp:!0}),Object(P.jsx)(b.a,{container:!0,className:l.winnerCard,children:n.map((function(e){return Object(P.jsx)(b.a,{item:!0,alignItems:"center",direction:"column",spacing:5,xs:12,sm:6,md:3,className:l.winnerWrapper,children:Object(P.jsx)($t,{winningPic:e.winningPic,title:e.title,prizeAmount:e.prizeAmount,winningArtist:e.winningArtist,description:e.description},e.description)},e._id)}))})]})}),Object(P.jsx)(Qt.a,{}),Object(P.jsx)(gn,{children:Object(P.jsx)(fn,{className:"reviews"})}),Object(P.jsx)(Qt.a,{}),Object(P.jsx)("div",{className:l.table,"data-tour":"contests",children:Object(P.jsx)(qt,{allContestsLength:o})}),Object(P.jsx)(Qt.a,{}),Object(P.jsx)(it,{steps:m})]})]})}var Pn=n(573),Dn=n(652),Wn=n(653),zn=n(669),Bn=n(294),En=n.n(Bn),An=n(293),_n=n.n(An),Ln=n(295),Rn=n.n(Ln),Fn=(n(524),n(292)),Mn=n.n(Fn),Un=Object(m.a)((function(e){return{form:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:e.spacing(1)},textField:{width:"100%"},label:{fontWeight:"bold"},box:{width:"65%"},submit:{padding:10,width:200,borderRadius:5,height:60,fontSize:14},imageList:{overflowY:"scroll",overflowX:"hidden",height:450,border:"0.5px solid #DDDDDD",borderRadius:5,padding:"20px","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"black"}},images:{display:"flex",flexWrap:"wrap",padding:"20px"},fileInputLabel:{"&:hover":{cursor:"pointer"},height:"100%",width:"100%"},fileInput:{display:"none"},uploadBtn:Object(W.a)({color:"white",backgroundColor:"black",borderRadius:0,border:"1px solid black","&&:hover":{backgroundColor:"white",color:"black"},height:"100%",width:"10rem",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"2rem"},e.breakpoints.down("sm"),{marginRight:0}),img:{width:"95%",height:"95%",cursor:"pointer"},checked:{filter:"brightness(50%)"},sub:{marginTop:10,color:"#AAAAAA"},icon:{display:"block",position:"relative",width:"50%",height:"50%",color:"#FFFFFF",marginLeft:"auto",marginRight:"auto",bottom:115}}}));function Gn(e){var t=e.handleSubmit,n=Object(a.useState)("PDT"),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)([]),j=Object(B.a)(u,2),m=j[0],f=j[1],x=Un(),v=function(){var e=Object(O.a)(g.a.mark((function e(t){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=15;break}for(d(!0),e.prev=2,n=new FormData,a=0;a<t.target.files.length;a++)n.append("image",t.target.files[a],t.target.files[a].name);return e.next=7,Be(n);case 7:r=e.sent,f([r].concat(Object(ce.a)(m))),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(N.a,{initialValues:{title:"",description:"",prizeAmount:0,deadlineDate:zt()(),images:[]},validationSchema:C.d().shape({title:C.f().required("This field is required"),description:C.f().required("This field is required"),prizeAmount:C.c().integer().positive().required("This field is required"),deadlineDate:C.b().required("This field is required"),images:C.a()}),onSubmit:function(e){var n=zt()();n="PDT"===i?e.deadlineDate.tz("America/Los_Angeles",!0):"MDT"===i?e.deadlineDate.tz("America/Denver",!0):"CDT"===i?e.deadlineDate.tz("America/Chicago",!0):e.deadlineDate.tz("America/New_York",!0),t(Object(Qe.a)(Object(Qe.a)({},e),{},{deadlineDate:n,images:m}))},children:function(e){var t=e.handleSubmit,n=e.handleChange,a=e.setFieldValue,r=e.values,o=e.touched,s=e.errors,d=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,className:x.form,noValidate:!0,children:[Object(P.jsxs)(h.a,{mt:3,mb:3,className:x.box,children:[Object(P.jsx)(p.a,{className:x.label,children:"What do you need designed?"}),Object(P.jsx)(y.a,{id:"title",name:"title",margin:"normal",variant:"outlined",placeholder:"Write a descriptive contest title",className:x.textField,helperText:o.title?s.title:"",error:o.title&&Boolean(s.title),value:r.title,onChange:n})]}),Object(P.jsxs)(h.a,{mt:3,mb:3,className:x.box,children:[Object(P.jsx)(p.a,{className:x.label,children:"Description"}),Object(P.jsx)(y.a,{id:"description",name:"description",margin:"normal",variant:"outlined",placeholder:"Details about what type of tattoo you want",rows:6,multiline:!0,className:x.textField,helperText:o.description?s.description:"",error:o.description&&Boolean(s.description),value:r.description,onChange:n})]}),Object(P.jsx)(h.a,{mt:3,mb:3,className:x.box,children:Object(P.jsxs)(b.a,{container:!0,spacing:2,children:[Object(P.jsxs)(b.a,{item:!0,xs:4,children:[Object(P.jsx)(p.a,{className:x.label,children:"Prize amount"}),Object(P.jsx)(y.a,{id:"prizeAmount",name:"prizeAmount",margin:"normal",variant:"outlined",placeholder:"100.00",helperText:o.prizeAmount?s.prizeAmount:"",error:o.prizeAmount&&Boolean(s.prizeAmount),value:r.prizeAmount?r.prizeAmount:"",onChange:n,InputProps:{startAdornment:Object(P.jsx)(Pn.a,{position:"start",children:Object(P.jsx)(_n.a,{})})}})]}),Object(P.jsxs)(b.a,{item:!0,xs:8,children:[Object(P.jsx)(p.a,{className:x.label,children:"Deadline"}),Object(P.jsxs)(b.a,{container:!0,spacing:0,children:[Object(P.jsxs)(St.a,{utils:Dt.a,children:[Object(P.jsx)(b.a,{item:!0,xs:5,children:Object(P.jsx)(Tt.a,{id:"date",name:"deadlineDate",margin:"normal",variant:"inline",inputVariant:"outlined",format:"MMMM Do YYYY",value:r.deadlineDate,onChange:function(e){return a("deadlineDate",e)},keyboardIcon:Object(P.jsx)(Pt.a,{})})}),Object(P.jsx)(b.a,{item:!0,xs:5,children:Object(P.jsx)(zn.a,{id:"time",name:"deadlineDate",margin:"normal",variant:"inline",inputVariant:"outlined",format:"LT",value:r.deadlineDate,onChange:function(e){return a("deadlineDate",e)},keyboardIcon:Object(P.jsx)(En.a,{})})})]}),Object(P.jsx)(b.a,{item:!0,xs:2,children:Object(P.jsxs)(y.a,{id:"zone",name:"zone",margin:"normal",variant:"outlined",select:!0,value:i,onChange:function(e){return c(e.target.value)},children:[Object(P.jsx)(q.a,{value:"PDT",children:"PDT"}),Object(P.jsx)(q.a,{value:"MDT",children:"MDT"}),Object(P.jsx)(q.a,{value:"CDT",children:"CDT"}),Object(P.jsx)(q.a,{value:"EDT",children:"EDT"})]})})]})]})]})}),Object(P.jsxs)(h.a,{mt:3,mb:3,className:x.box,children:[Object(P.jsxs)(h.a,{display:"flex",justifyContent:"space-between",alignContent:"center",children:[Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{className:x.label,children:"Show us some inspiration for your dream tattoo"}),Object(P.jsx)(p.a,{className:x.sub,component:"p",children:"Upload your images."})]}),Object(P.jsx)(h.a,{maxWidth:"50%",children:Object(P.jsxs)("label",{htmlFor:"file",className:x.fileInputLabel,children:[Object(P.jsx)("input",{type:"file",accept:"image/*",id:"file",name:"image",multiple:!1,onChange:v,className:x.fileInput}),Object(P.jsx)("div",{className:x.uploadBtn,children:"upload"})]})})]}),Object(P.jsx)(h.a,{mt:3,mb:3,className:x.imageList,children:Object(P.jsx)(Dn.a,{rowHeight:160,cols:4,className:x.images,children:l?Object(P.jsx)(S.a,{style:{height:"40%",width:"40%"}}):m.map((function(e,t){return Object(P.jsxs)(Wn.a,{children:[Object(P.jsx)("img",{id:"".concat(t),src:e,className:x.img}),Mn()("#".concat("".concat(t))).hasClass(x.checked)&&Object(P.jsx)(Rn.a,{className:x.icon})]},e)}))})})]}),Object(P.jsx)(h.a,{mt:3,mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:x.submit,children:d?Object(P.jsx)(S.a,{style:{color:"white"}}):"Create Contest"})})]})}})}var qn=Object(m.a)((function(){return{header:{fontWeight:"bold"},paper:{marginBottom:30}}}));function Vn(){var e=qn(),t=Object(d.g)(),n=ve().updateSnackBarMessage;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(pe,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsxs)(b.a,{container:!0,direction:"column",spacing:0,children:[Object(P.jsx)(h.a,{mt:4,mb:4,children:Object(P.jsx)(p.a,{align:"center",component:"h1",variant:"h5",className:e.header,children:"Create New Contest"})}),Object(P.jsx)(b.a,{container:!0,justify:"center",children:Object(P.jsx)(b.a,{item:!0,xs:12,md:10,elevation:6,component:j.a,className:e.paper,children:Object(P.jsx)(Gn,{handleSubmit:function(e){var a=e.title,r=e.description,i=e.prizeAmount,c=e.deadlineDate,o=e.images;Re({title:a,description:r,prizeAmount:i,deadlineDate:c,images:o}).then((function(e){e.error?n(e.error.message):(n("Sucessfully created contest"),t.push("/discovery"))}))}})})})]})]})}var Yn=Object(m.a)((function(e){return{grid:{width:"100%",height:"100%"},avatar:{height:"125px",width:e.spacing(17),marginBottom:"16px",marginTop:"50px"},user:{fontSize:24},container:{width:"100%",marginTop:"15px"},toolbar:{border:0},tabs:{color:"#000000",textColorPrimary:"#000000",width:"100%",fontWeight:"bold"}}})),Hn=Object(m.a)((function(e){return{activity:{margin:0,WebkitTextStroke:"medium",paddingTop:70},heading:{WebkitTextStroke:"medium",marginTop:e.spacing(8),marginBottom:e.spacing(6)},contentMarginsLeft:{marginLeft:15},contentMarginsTop:{marginTop:10,fontSize:18},root:{backgroundColor:"#fafafa"},about:{marginTop:e.spacing(8),padding:e.spacing(3),fontWeight:"bold"}}})),Jn=n(296),$n=n.n(Jn),Kn=n(297),Zn=n.n(Kn),Qn=n(27),Xn=n(665),ea=n(113),ta=n.n(ea),na=n(114),aa=n.n(na),ra=n(164),ia=n.n(ra),ca=n(165),oa=Object(m.a)((function(e){return{root:{maxWidth:500,flexGrow:1,height:"auto"},paper:{margin:e.spacing(1),marginTop:e.spacing(7),width:"95%",height:e.spacing(30)},username:{marginTop:e.spacing(4),marginLeft:e.spacing(4),fontWeight:"bold"},title:{fontWeight:"bold",marginTop:e.spacing(2)},date:{marginTop:e.spacing(2)}}})),sa=Object(ca.autoPlay)(ia.a),la=function(e){var t=e.submission,n=oa(),r=Object(Qn.a)(),i=Object(a.useState)(0),c=Object(B.a)(i,2),o=c[0],s=c[1],l=null!==t&&t.length<5?t.length:4;return Object(P.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)("div",{className:n.root,children:[Object(P.jsx)(sa,{axis:"rtl"===r.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){s(e)},enableMouseEvents:!0,children:null!==t&&(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)("div",{children:Math.abs(o-t)<=2?Object(P.jsx)(h.a,{display:"flex",mb:2,justifyContent:"center",children:Object(P.jsx)(j.a,{elevation:3,className:n.paper,children:Object(P.jsxs)(h.a,{display:"flex",mb:4,textAlign:"center",pt:2,justifyContent:"center",mt:4,flexDirection:"column",children:[Object(P.jsx)(p.a,{className:n.username,children:"Artist submitted in the contest titled"}),Object(P.jsx)(p.a,{className:n.title,variant:"h5",children:'"'.concat(e.contest.title,'"')}),Object(P.jsx)(p.a,{className:n.date,variant:"body1",children:zt()(e.created_at).fromNow()})]})})}):null},e._id)})):Object(P.jsx)(p.a,{style:{marginTop:"30px",padding:"20px"},variant:"h5",children:"This artist does not have any activity"})}),(null===t||void 0===t?void 0:t.length)?Object(P.jsx)(Xn.a,{variant:"progress",steps:l,position:"static",activeStep:o,className:n.root,nextButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){s((function(e){return e+1}))},disabled:o===l-1,children:["Next","rtl"===r.direction?Object(P.jsx)(ta.a,{}):Object(P.jsx)(aa.a,{})]}),backButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){s((function(e){return e-1}))},disabled:0===o,children:["rtl"===r.direction?Object(P.jsx)(aa.a,{}):Object(P.jsx)(ta.a,{}),"Back"]})}):""]})})},da=function(e){var t=e.info,n=e.submission,a=Hn();return Object(P.jsxs)(h.a,{textAlign:"center",pb:5,children:[Object(P.jsx)(p.a,{className:a.activity,variant:"h5",children:"Recent Activity"}),Object(P.jsx)(la,{submission:n}),t?Object(P.jsxs)(h.a,{display:"flex",flexDirection:"column",mt:10,className:a.root,children:[Object(P.jsxs)(p.a,{variant:"h3",className:a.heading,children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.middleInit," ",null===t||void 0===t?void 0:t.lastName]}),Object(P.jsxs)(p.a,{variant:"body1",className:a.contentMarginsTop,children:[Object(P.jsx)($n.a,{}),Object(P.jsx)("em",{className:a.contentMarginsLeft,children:null===t||void 0===t?void 0:t.email})]}),Object(P.jsxs)(p.a,{className:a.contentMarginsTop,children:[Object(P.jsx)(Zn.a,{}),Object(P.jsx)("em",{className:a.contentMarginsLeft,children:null===t||void 0===t?void 0:t.phone})]}),Object(P.jsx)(p.a,{className:a.about,variant:"h5",children:null===t||void 0===t?void 0:t.about})]}):""]})},ua="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",ja=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We.a.post(ua+"info",t).then((function(e){return e.data})).catch((function(){return{error:{message:"Failed to save personal information"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ha=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(ua+"info/".concat(t),n).then((function(e){return e.json()})).catch((function(){return{err:{message:"Could not get personal info"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=Object(m.a)((function(){return{submit:{width:100,borderRadius:5,fontSize:14,margin:"15px ! important"},select:{top:15},stars:{marginTop:30}}})),pa=n(670);function ma(e){var t=e.handleSubmit,n=e.artistId,a=R().loggedInUser,r=ba(),i=C.d().shape({rating:C.c(),text:C.f()});return Object(P.jsx)(N.a,{initialValues:{rating:5,text:"",error:"",reviewerId:{profilePic:"",username:""},_id:""},validationSchema:i,onSubmit:t,children:function(e){var t=e.handleSubmit,i=e.handleChange,c=e.values,o=e.errors,s=e.touched;return Object(P.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(P.jsxs)(h.a,{mt:3,mb:3,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(P.jsxs)(b.a,{container:!0,spacing:2,children:[Object(P.jsxs)(b.a,{item:!0,xs:12,sm:12,md:6,children:[Object(P.jsx)(p.a,{children:"Words"}),Object(P.jsx)(y.a,{id:"text",name:"text",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"This artist is awesome",helperText:s.text?o.text:"",error:s.text&&Boolean(o.text),value:c.text,onChange:i})]}),Object(P.jsxs)(b.a,{item:!0,xs:12,sm:12,md:6,children:[Object(P.jsx)(p.a,{children:"Rating"}),Object(P.jsx)(pa.a,{id:"rating",name:"rating",value:c.rating,size:"large",className:r.stars,onChange:i})]})]}),Object(P.jsx)(h.a,{textAlign:"center",marginTop:"20px",children:(null===a||void 0===a?void 0:a.id)===n?Object(P.jsx)(w.a,{className:r.submit,type:"submit",variant:"contained",color:"primary",disabled:!0,children:"Save"}):Object(P.jsx)(w.a,{className:r.submit,type:"submit",variant:"contained",color:"primary",children:"Save"})})]})})}})}var fa=Object(m.a)((function(e){return{activity:{margin:0,WebkitTextStroke:"medium",paddingTop:70},avatar:{height:e.spacing(6),width:e.spacing(5)},paper:{display:"flex",width:"50%",background:"#fafafa",marginTop:15,flexDirection:"column",alignItems:"center"},formPaper:{marginTop:"120px",backgroundColor:"#fafafa"},readAll:{marginTop:"100px"},username:{marginTop:"10px",marginLeft:"5px",fontWeight:"bold"}}})),xa=Object(m.a)((function(e){return{root:{maxWidth:500,flexGrow:1,height:"auto"},paper:{margin:e.spacing(1),marginTop:e.spacing(7),width:"95%",height:e.spacing(30)},avatar:{height:e.spacing(11),width:e.spacing(10)},username:{marginTop:e.spacing(4),marginLeft:e.spacing(4),fontWeight:"bold"},rating:{marginBottom:e.spacing(1)}}})),ga=Object(ca.autoPlay)(ia.a),Oa=function(e){var t=e.reviews,n=xa(),r=Object(Qn.a)(),i=Object(a.useState)(0),c=Object(B.a)(i,2),o=c[0],s=c[1],l=t&&t.length<5?t.length:4;return Object(P.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)("div",{className:n.root,children:[Object(P.jsx)(ga,{axis:"rtl"===r.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){s(e)},enableMouseEvents:!0,children:null!==t&&(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)("div",{children:Math.abs(o-t)<=2?Object(P.jsx)(h.a,{display:"flex",mb:2,justifyContent:"center",children:Object(P.jsxs)(j.a,{elevation:3,className:n.paper,children:[Object(P.jsxs)(h.a,{display:"flex",mb:4,textAlign:"center",pt:2,justifyContent:"center",mt:4,children:[Object(P.jsx)(F.a,{alt:"Profile Image",src:e.reviewerId.profilePic,className:n.avatar}),Object(P.jsxs)(p.a,{className:n.username,children:["@",e.reviewerId.username]})]}),Object(P.jsx)(pa.a,{value:e.rating,size:"large",name:"read-only",readOnly:!0})]})}):null},e._id)})):Object(P.jsx)(p.a,{style:{marginTop:"30px",padding:"20px"},variant:"h5",children:"This artist does not have any review"})}),(null===t||void 0===t?void 0:t.length)?Object(P.jsx)(Xn.a,{variant:"progress",steps:l,position:"static",activeStep:o,className:n.root,nextButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){s((function(e){return e+1}))},disabled:o===l-1,children:["Next","rtl"===r.direction?Object(P.jsx)(ta.a,{}):Object(P.jsx)(aa.a,{})]}),backButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){s((function(e){return e-1}))},disabled:0===o,children:["rtl"===r.direction?Object(P.jsx)(aa.a,{}):Object(P.jsx)(ta.a,{}),"Back"]})}):""]})})},va=n(666);function wa(e){var t=e.artistId,n=fa(),r=Object(a.useState)(!1),i=Object(B.a)(r,2),c=i[0],o=i[1],s=ve().updateSnackBarMessage,l=Object(a.useState)([]),d=Object(B.a)(l,2),u=d[0],m=d[1],f=function(){var e=Object(O.a)(g.a.mark((function e(n){var a,r,i,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rating,r=n.text,i={artistId:t,rating:a,text:r},e.next=4,mn(i);case 4:(c=e.sent).error?s(c.error):(s("Review submitted successfully"),o=u?[].concat(Object(ce.a)(u),[c]):[c],m(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(t);case 2:null!==(n=e.sent)?m(n):new Error("Could Not Get Artist Info");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(P.jsxs)(h.a,{textAlign:"center",pb:5,children:[Object(P.jsx)(p.a,{className:n.activity,variant:"h5",children:"Recent Reviews"}),Object(P.jsx)(Oa,{reviews:u}),Object(P.jsxs)(j.a,{className:n.formPaper,children:[Object(P.jsx)(h.a,{mt:1,mb:1,pt:5,children:Object(P.jsx)(p.a,{align:"center",component:"h1",variant:"h5",children:"Submit your review"})}),Object(P.jsx)(b.a,{container:!0,justifyContent:"center",children:Object(P.jsx)(b.a,{item:!0,xs:12,md:10,children:Object(P.jsx)(ma,{handleSubmit:f,artistId:t})})})]}),Object(P.jsx)(p.a,{align:"center",variant:"subtitle1",className:n.readAll,children:"Read all"}),Object(P.jsx)(va.a,{checked:c,onChange:function(e){o(e.target.checked)},inputProps:{"aria-label":"controlled"}}),!0===c?u.length?u.map((function(e){return Object(P.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)(j.a,{className:n.paper,children:[Object(P.jsxs)(h.a,{display:"flex",mb:2,textAlign:"center",pt:2,children:[Object(P.jsx)(F.a,{alt:"Profile Image",src:e.reviewerId.profilePic,className:n.avatar}),Object(P.jsxs)(p.a,{className:n.username,children:["@",e.reviewerId.username]})]}),Object(P.jsx)(h.a,{display:"flex",mb:2,textAlign:"center",children:Object(P.jsx)(pa.a,{value:e.rating,size:"large",name:"read-only",readOnly:!0})}),Object(P.jsx)(h.a,{display:"flex",mb:2,children:Object(P.jsx)(p.a,{className:n.username,children:e.text})})]})},e._id)})):Object(P.jsx)(p.a,{style:{marginTop:"30px",padding:"20px"},variant:"h4",children:"This artist does not have any review"}):""]})}var ya=Object(ee.a)({"@global":{".MuiToolbar-root":{padding:0},".MuiToolbar-regular":{minHeight:0}}})((function(){return null}));function Na(e){var t=e.location.state,n=Yn(),r=Object(a.useState)(0),i=Object(B.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(),u=Object(B.a)(d,2),h=u[0],m=u[1],f=Object(a.useState)([]),x=Object(B.a)(f,2),v=x[0],w=x[1],y=R().loggedInUser,N=Object(o.b)({palette:{primary:{main:"#000000"},secondary:{main:"#3d3d3d"}}});Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ha(t);case 2:return n=e.sent,e.next=5,Pe(t);case 5:a=e.sent,null!==n?m(n):new Error("Could Not Get Artist Info"),null!==a?w(a):new Error("Could Not Get Artist Submssions");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var C=function(e){return Object(P.jsx)("div",{role:"tabpanel",id:"".concat(e.index),children:s===e.index&&Object(P.jsx)(Ke.a,{children:Object(P.jsx)(p.a,{children:e.children})})})};return y?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(ya,{}),Object(P.jsx)(pe,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsxs)(b.a,{className:n.grid,container:!0,alignItems:"center",direction:"column",children:[Object(P.jsx)(F.a,{alt:"Profile Image",src:null===h||void 0===h?void 0:h.userId.profilePic,className:n.avatar}),Object(P.jsx)(p.a,{className:n.user,children:"".concat(h?h.firstName:""," ").concat(h?h.lastName:"")}),Object(P.jsxs)(Ke.a,{className:n.container,children:[Object(P.jsx)(Ze.a,{className:n.toolbar,children:Object(P.jsx)(c.a,{theme:N,children:Object(P.jsxs)(Je.a,{className:n.tabs,value:s,onChange:function(e,t){l(t)},textColor:"primary",variant:"fullWidth",children:[Object(P.jsx)($e.a,{label:"ABOUT ARTIST"}),Object(P.jsx)($e.a,{label:"REVIEWS"})]})})}),Object(P.jsxs)(j.a,{square:!0,elevation:2,style:{marginBottom:"10px"},children:[Object(P.jsx)(C,{value:s,index:0,children:Object(P.jsx)(da,{info:h,submission:v})}),Object(P.jsx)(C,{value:s,index:1,children:Object(P.jsx)(wa,{artistId:t})})]})]})]})]}):Object(P.jsx)(S.a,{})}var Ca=n(298),ka=n(82),Sa="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",Ta=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cardId:t,stripeId:n}),credentials:"include"},e.next=3,fetch(Sa+"stripe/stripeToken",a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to Stripe. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ia=Object(m.a)((function(){return{form:{display:"flex",flexDirection:"column",alignItems:"center",height:"800px"},formGrid:{height:"100%",width:"50%"},paper:{height:"400px",width:"500px"},container:{justifyContent:"space-between"},typography:{fontWeight:"bold",fontSize:"16px",padding:"20px 0"},cardNum:{width:"300px",padding:"10px",marginBottom:"20px",border:"1px solid #000000",borderRadius:"5px"},cardExpiry:{width:"150px",border:"1px solid #000000",marginRight:"20px",padding:"10px",borderRadius:"5px"},cardCvc:{width:"110px",border:"1px solid #000000",padding:"10px",borderRadius:"5px"},button:{color:"#000000",margin:"40px 20px",border:"1px solid #000000",width:"15rem",height:"6rem",fontSize:"15px"}}}));function Pa(){var e=Object(ka.useStripe)(),t=Object(ka.useElements)(),n=Ia(),a=R().loggedInUser,r=ve().updateSnackBarMessage,i=function(){var n=Object(O.a)(g.a.mark((function n(i){var c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.preventDefault(),e&&t){n.next=3;break}return n.abrupt("return");case 3:c=t.getElement(ka.CardNumberElement),a&&c&&e.createPaymentMethod({type:"card",card:c,billing_details:{name:a.username}}).then((function(e){if(e.paymentMethod){var t=e.paymentMethod.id,n=a.stripeId;Ta(t,n),r("Card has been added to your account.")}else r("Card could not be added")}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(b.a,{container:!0,justifyContent:"center",children:Object(P.jsx)("form",{className:n.form,onSubmit:i,children:Object(P.jsx)(b.a,{container:!0,className:n.formGrid,children:Object(P.jsxs)(h.a,{className:n.paper,children:[Object(P.jsxs)(Ke.a,{className:n.container,children:[Object(P.jsx)(p.a,{className:n.typography,children:"Enter your card details:"}),Object(P.jsx)(ka.CardNumberElement,{className:n.cardNum,id:"outlined-basic",options:{iconStyle:"solid",style:{base:{color:"black",fontSize:"16px",iconColor:"#fff"},invalid:{iconColor:"red",color:"red"},complete:{iconColor:"#cbf4c9"}}}}),Object(P.jsxs)(h.a,{display:"flex","flex-direction":"row",children:[Object(P.jsx)(ka.CardExpiryElement,{className:n.cardExpiry,id:"outlined-basic"}),Object(P.jsx)(ka.CardCvcElement,{className:n.cardCvc,id:"outlined-basic"})]})]}),Object(P.jsx)(w.a,{type:"submit",className:n.button,children:"Add Card"})]})})})})})}var Da=n(659),Wa=Object(m.a)((function(){return{submit:{padding:10,width:100,borderRadius:5,fontSize:14},select:{top:15}}}));function za(e){var t=e.handleSubmit,n=Wa(),a=C.d().shape({firstName:C.f(),middleInit:C.f().max(1,"Middle initial is too long"),lastName:C.f(),email:C.f().email("Invalid email"),phone:C.f().matches(/^([0-9]{10}|0)$/,"Invalid phone number"),dateOfBirth:C.f(),gender:C.f(),about:C.f()});return Object(P.jsx)(N.a,{initialValues:{firstName:"",middleInit:"",lastName:"",email:"",phone:0,dateOfBirth:"",gender:"",about:""},validationSchema:a,onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.errors,c=e.touched;return Object(P.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsxs)(b.a,{container:!0,spacing:2,children:[Object(P.jsx)(b.a,{item:!0,xs:12,sm:5,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{children:"First Name"}),Object(P.jsx)(y.a,{id:"firstName",name:"firstName",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"John",helperText:c.firstName?i.firstName:"",error:c.firstName&&Boolean(i.firstName),value:r.firstName,onChange:a})]})}),Object(P.jsx)(b.a,{item:!0,xs:12,sm:2,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{children:"MI"}),Object(P.jsx)(y.a,{id:"middleInit",name:"middleInit",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"T",helperText:c.middleInit?i.middleInit:"",error:c.middleInit&&Boolean(i.middleInit),value:r.middleInit,onChange:a})]})}),Object(P.jsx)(b.a,{item:!0,xs:12,sm:5,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{children:"Last Name"}),Object(P.jsx)(y.a,{id:"lastName",name:"lastName",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"Doe",helperText:c.lastName?i.lastName:"",error:c.lastName&&Boolean(i.lastName),value:r.lastName,onChange:a})]})})]}),Object(P.jsxs)(b.a,{container:!0,spacing:2,children:[Object(P.jsx)(b.a,{item:!0,xs:6,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{children:"Email"}),Object(P.jsx)(y.a,{id:"email",name:"email",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"johndoe@gmail.com",helperText:c.email?i.email:"",error:c.email&&Boolean(i.email),value:r.email,onChange:a})]})}),Object(P.jsx)(b.a,{item:!0,xs:6,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{children:"Phone Number"}),Object(P.jsx)(y.a,{id:"phone",name:"phone",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"(123) 456-7890",helperText:c.phone?i.phone:"",error:c.phone&&Boolean(i.phone),value:r.phone?r.phone:"",onChange:a})]})})]}),Object(P.jsxs)(b.a,{container:!0,spacing:2,children:[Object(P.jsx)(b.a,{item:!0,xs:6,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{children:"Date of Birth"}),Object(P.jsx)(y.a,{id:"dateOfBirth",name:"dateOfBirth",type:"date",fullWidth:!0,margin:"normal",variant:"outlined",value:r.dateOfBirth,onChange:a})]})}),Object(P.jsx)(b.a,{item:!0,xs:6,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{children:"Gender"}),Object(P.jsxs)(Da.a,{id:"gender",name:"gender",fullWidth:!0,variant:"outlined",value:r.gender,className:n.select,onChange:a,children:[Object(P.jsx)(q.a,{value:"Male",children:"Male"}),Object(P.jsx)(q.a,{value:"Female",children:"Female"})]})]})}),Object(P.jsxs)(b.a,{item:!0,xs:12,sm:12,children:[Object(P.jsx)(p.a,{children:"About me"}),Object(P.jsx)(y.a,{id:"about",name:"about",fullWidth:!0,multiline:!0,margin:"normal",variant:"outlined",placeholder:"Something about you...",rows:5,helperText:c.about?i.about:"",error:c.about&&Boolean(i.about),value:r.about?r.about:"",onChange:a})]})]}),Object(P.jsx)(h.a,{textAlign:"center",children:Object(P.jsx)(w.a,{className:n.submit,type:"submit",variant:"contained",color:"primary",children:"Save"})})]})})}})}var Ba=Object(m.a)((function(){return{root:{maxwidth:"70vw",width:"50vw",marginLeft:"auto",marginRight:"auto"}}}));function Ea(){var e=Ba();return Object(P.jsxs)(b.a,{container:!0,direction:"column",className:e.root,children:[Object(P.jsx)(h.a,{mt:2,mb:2,children:Object(P.jsx)(p.a,{align:"center",component:"h1",variant:"h5",children:"Personal Information"})}),Object(P.jsx)(b.a,{container:!0,justifyContent:"center",children:Object(P.jsx)(b.a,{item:!0,xs:12,md:10,children:Object(P.jsx)(za,{handleSubmit:function(e){var t=e.firstName,n=e.middleInit,a=e.lastName,r=e.email,i=e.phone,c=e.dateOfBirth,o=e.gender,s=e.about;ja({firstName:t,middleInit:n,lastName:a,email:r,phone:i,dateOfBirth:c,gender:o,about:s})}})})})]})}var Aa=Object(m.a)((function(){return{fields:{width:"100%"}}}));function _a(e){var t=e.handleSubmit,n=Aa();return Object(P.jsx)(N.a,{initialValues:{password:"",confirmPassword:""},validationSchema:C.d().shape({password:C.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short"),confirmPassword:C.f().when("password",{is:function(e){return!!(e&&e.length>0)},then:C.f().oneOf([C.e("password")],"Password does not match!")})}),onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.touched,c=e.errors,o=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,noValidate:!0,children:[Object(P.jsxs)(h.a,{mt:3,children:[Object(P.jsx)(p.a,{children:"Password"}),Object(P.jsx)(y.a,{id:"password",name:"password",type:"password",margin:"normal",variant:"outlined",placeholder:"Password",className:n.fields,helperText:i.password?c.password:"",error:i.password&&Boolean(c.password),value:r.password,onChange:a})]}),Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsx)(p.a,{children:"Confirm Password"}),Object(P.jsx)(y.a,{id:"confirmPassword",name:"confirmPassword",type:"password",margin:"normal",variant:"outlined",placeholder:"Confirm Password",className:n.fields,helperText:i.confirmPassword?c.confirmPassword:"",error:i.confirmPassword&&Boolean(c.confirmPassword),value:r.confirmPassword,onChange:a})]}),Object(P.jsx)(h.a,{mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:n.fields,children:o?Object(P.jsx)(S.a,{style:{color:"white"}}):"Update Password"})})]})}})}var La="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",Ra=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",We.a.post(La+"reset",{email:t}).then((function(e){return e.data})).catch((function(){return{error:{message:"Cannot reach email"}}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(O.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",We.a.patch(La+"reset/update-password/".concat(a),{password:t,token:n}).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to reset password"}}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ma=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",We.a.patch(La+"reset/change-password",{password:t}).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to change password"}}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ua=Object(m.a)((function(){return{container:{maxwidth:"70vw",width:"50vw",marginLeft:"auto",marginRight:"auto"},form:{padding:10}}}));function Ga(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),c=Object(B.a)(i,2),o=c[0],s=c[1],l=Ua();return Object(P.jsxs)(h.a,{className:l.container,children:[Object(P.jsx)(h.a,{children:Object(P.jsx)(p.a,{align:"center",component:"h1",variant:"h5",children:"Change Password"})}),Object(P.jsx)(h.a,{mt:3,mb:3,boxShadow:4,component:j.a,className:l.form,children:n&&!o?Object(P.jsx)(h.a,{children:Object(P.jsx)(p.a,{align:"center",children:"Your password has be updated!"})}):o?Object(P.jsx)(p.a,{align:"center",children:o}):Object(P.jsx)(_a,{handleSubmit:function(e){var t=e.password;Ma(t).then((function(e){e.error?s(e.error.message):s("")})),r((function(e){return!e}))}})})]})}var qa=Object(m.a)((function(e){var t;return{typography:{padding:e.spacing(2),fontSize:15,fontWeight:"bold",paddingBottom:"0"},poptitle:{margin:20,fontWeight:"bold",fontSize:25,"-webkit-text-stroke":"medium"},time:{marginLeft:15,marginBottom:20},avatar:{height:45,width:e.spacing(6),marginTop:15,marginLeft:15},seeAll:{marginLeft:70,marginTop:50,fontSize:15},paper:(t={marginTop:"5%",overflowY:"hidden",width:"65%"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"100%",marginLeft:"5%",marginRight:"5%"}),Object(W.a)(t,e.breakpoints.only("xl"),{width:"40%",marginLeft:"2%",marginRight:"5%"}),t),delete:{padding:9,border:"none",fontSize:12,marginTop:"17px",color:"#fff",backgroundColor:"black","&:hover":{color:"#fff",backgroundColor:"black"}},notificationContainer:{"&:hover":{backgroundColor:"#fafafa",color:"black"}},link:{textDecoration:"none",color:"black"}}}));function Va(e){var t=e.header,n=Object(d.g)();void 0===t&&(t=!0);var r=Object(a.useContext)(ue).notifications,i=Object(a.useContext)(ue).setNotifications,c=R().loggedInUser,o=qa(),s=ve().updateSnackBarMessage,m=function(){var e=Object(O.a)(g.a.mark((function e(a){var c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=a.target,e.next=4,ie(c.value);case 4:204===e.sent?(s("Notification deleted successfully"),o=r&&r.filter((function(e){return e._id!==c.value})),i(o)):s("Error deleting notification, trying again later"),!0===t?n.push("/notifications"):n.push("/settings");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=new Date(e),n=Math.abs(t.valueOf()-(new Date).valueOf()),a=Math.ceil(n/864e5),r=Math.ceil(n/36e5),i=Math.ceil(n/6e4),c=Math.ceil(n/1e3);return c<=1&&i<=1&&r<=1&&a<=1?"1 second ago":c>1&&i<=1&&r<=1&&a<=1?"".concat(c," seconds ago"):c>=60&&i<=2&&r<=1&&a<=1?"1 minute ago":i>1&&r<=1&&a<=1?"".concat(i," minutes ago"):r<=2&&a<=1&&i>=60?"1 hour ago":r>1&&a<=1?"".concat(r," hours ago"):r>=24&&a<=2?"1 day ago":"".concat(a," days ago")};return c?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(u.a,{}),t?Object(P.jsx)(pe,{linkTo:"/create-contest",btnText:"CREATE CONTEST"}):"",Object(P.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)(j.a,{className:o.paper,elevation:2,children:[Object(P.jsx)(b.a,{direction:"row",container:!0,children:Object(P.jsx)(b.a,{item:!0,children:Object(P.jsx)(p.a,{variant:"h5",className:o.poptitle,children:"Notifications"})})}),(null===r||void 0===r?void 0:r.length)?null===r||void 0===r?void 0:r.map((function(e){return Object(P.jsx)(l.b,{to:e.contestId?"/contest/".concat(e.contestId):"/dashboard",className:o.link,children:Object(P.jsxs)(b.a,{direction:"row",container:!0,className:o.notificationContainer,children:[Object(P.jsx)(b.a,{item:!0,xs:12,sm:3,md:2,children:Object(P.jsx)(F.a,{alt:"Profile Image",src:e.profilePic,className:o.avatar})}),Object(P.jsxs)(b.a,{item:!0,xs:12,sm:7,md:7,children:[Object(P.jsx)(p.a,{className:o.typography,children:e.notification},e._id),Object(P.jsx)(p.a,{className:o.time,children:f(e.createdAt)},e.notification)]}),Object(P.jsx)(b.a,{item:!0,xs:12,sm:1,md:1,children:Object(P.jsx)("button",{className:o.delete,onClick:m,value:e._id,children:"Delete"})})]})},e._id)})):Object(P.jsx)(p.a,{align:"center",children:"You do not have any notification"})]})})]}):Object(P.jsx)(S.a,{})}var Ya=Object(m.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexGrow:1,overflow:"hidden"},tabs:{backgroundColor:e.palette.background.paper,maxWidth:"100vw",width:"20vw",height:"auto",borderRight:"1px solid ".concat(e.palette.divider),boxShadow:"3px 0 5px -2px #DDDDDD",paddingTop:20,"& .MuiTab-wrapper":{flexDirection:"row",justifyContent:"flex-start"}},label:{fontSize:"14px",left:"20%"},indicator:{left:"10%",transform:"rotate(90deg)"},paymentDetails:{fontSize:"35px",fontWeight:"bold",textAlign:"center",padding:"20px 0 30px 0",marginLeft:"58px"},tabPanel:{width:"80%"}}})),Ha=Object(Ca.a)("pk_test_51JEJJrK3QVx74yV9vYujCrOpA8KwLKEE7uKSjHmUO0GGxUYSa5uxMlgaCZAbflwU9U0Npb2k4a86JEJBGmuBOfbw00CU3LpL8W");function Ja(e){var t=Ya(),n=e.children,a=e.value,r=e.index,i=Object(on.a)(e,["children","value","index"]);return Object(P.jsx)("div",Object(Qe.a)(Object(Qe.a)({role:"tabpanel",hidden:a!==r,id:"tabpanel-".concat(r),"aria-labelledby":"tab-".concat(r)},i),{},{className:t.tabPanel,"data-tour":3===a?"payment":"",children:a===r&&Object(P.jsx)(h.a,{p:2,children:Object(P.jsx)(h.a,{children:n})})}))}function $a(e){return{id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e)}}function Ka(){var e=Object(a.useState)(0),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Ya(),c=Object(d.g)(),o=[{selector:'[data-tour="start-contest"]',content:{words:"This is your settings page. You can add all of your personal information here as well as change your password. Don't forget to submit your payment information if you want to create a contest. If you want to create a contest with placeholder credit card information enter 4242-4242-4242-4242",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"}},{selector:'[data-tour="start-contest"]',content:{words:"This is your settings page. You can add all of your personal information here as well as change your password. Don't forget to submit your payment information if you want to create a contest. If you want to create a contest with placeholder credit card information enter 4242-4242-4242-4242",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"},action:function(){return c.push("/messages")}}];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(pe,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsxs)(h.a,{className:i.root,children:[Object(P.jsxs)(Je.a,{orientation:"vertical",indicatorColor:"primary",textColor:"primary",value:n,TabIndicatorProps:{style:{height:20,marginTop:15}},classes:{indicator:i.indicator},onChange:function(e,t){r(t)},className:i.tabs,children:[Object(P.jsx)($e.a,Object(Qe.a)(Object(Qe.a)({label:"Profile"},$a(0)),{},{className:i.label})),Object(P.jsx)($e.a,Object(Qe.a)(Object(Qe.a)({label:"Personal Information"},$a(1)),{},{className:i.label})),Object(P.jsx)($e.a,Object(Qe.a)(Object(Qe.a)({label:"Payment Details"},$a(2)),{},{className:i.label})),Object(P.jsx)($e.a,Object(Qe.a)(Object(Qe.a)({label:"Notification"},$a(3)),{},{className:i.label})),Object(P.jsx)($e.a,Object(Qe.a)(Object(Qe.a)({label:"Password"},$a(4)),{},{className:i.label}))]}),Object(P.jsx)(Ja,{value:n,index:0,children:Object(P.jsx)(yt,{header:!1})}),Object(P.jsx)(Ja,{value:n,index:1,children:Object(P.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(P.jsx)(Ea,{})})}),Object(P.jsxs)(Ja,{value:n,index:2,children:[Object(P.jsx)(p.a,{className:i.paymentDetails,children:"Payment Details"}),Object(P.jsx)(ka.Elements,{stripe:Ha,children:Object(P.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(P.jsx)(Pa,{})})})]}),Object(P.jsx)(Ja,{value:n,index:3,children:Object(P.jsx)(Va,{header:!1})}),Object(P.jsx)(Ja,{value:n,index:4,children:Object(P.jsx)(Ga,{})})]}),Object(P.jsx)(it,{steps:o})]})}var Za=Object(m.a)((function(e){var t;return{grid:Object(W.a)({width:"100%",height:"100%",fontWeight:"bolder"},e.breakpoints.down("xs"),{display:"flex",justifyContent:"center"}),backIcon:{height:"10px"},contestTitle:Object(W.a)({fontSize:38,fontWeight:"bolder",fontFamily:"'Open Sans'",textTransform:"capitalize"},e.breakpoints.down("xs"),{textAlign:"center"}),prizeAmount:{backgroundColor:"black",color:"#ffff",marginLeft:20,borderRadius:"0",fontSize:100,"&:hover":{backgroundColor:"black",color:"#ffff"}},prize:{fontSize:16,fontWeight:"bold"},avatar:{height:45,width:e.spacing(6),marginTop:10},user:{fontSize:17,marginTop:20,marginLeft:20,fontWeight:"bold"},button:{color:"#000000",border:"1.5px solid black",width:"100%",height:"60%",borderRadius:0,marginTop:12,textTransform:"uppercase","&:hover":{backgroundColor:"black",color:"white"}},container:{marginTop:"32px",fontFamily:"'Open Sans'"},toolbar:{border:0},tabs:{color:"#000000",textColorPrimary:"#000000",width:"100%",fontWeight:"bold",padding:0},descriptionHeader:{textDecoration:"underline",margin:"15px 0 20px"},imageWrapper:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},imageList:{transform:"translateZ(0)",margin:"40px 0 20px",padding:"20px 0",width:"100%",height:450},listItem:(t={"&:hover":{cursor:"pointer"},width:"25%",height:"auto"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"50% !important"}),Object(W.a)(t,e.breakpoints.down("xs"),{width:"90% !important"}),t),image:{width:"100%",height:"auto"},username:{textTransform:"capitalize"},greyText:{color:"#CECECE",fontWeight:"bolder"},designGrid:{marginTop:50}}})),Qa=n(654),Xa=Object(m.a)((function(e){var t;return{listItem:(t={"&:hover":{cursor:"pointer"},height:"min-content",padding:10,width:"25%"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"50%"}),Object(W.a)(t,e.breakpoints.down("xs"),{width:"90%"}),t),by:{display:"flex",justifyContent:"center"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},link:{textDecoration:"none",color:"black"}}})),er=function(e){var t=e.images,n=e.artistName,a=e.artistPic,r=e.submissionId,i=e.artistId,c=Xa();return Object(P.jsx)(P.Fragment,{children:t.map((function(e){return Object(P.jsxs)(Wn.a,{cols:1,className:c.listItem,children:[Object(P.jsx)(mt,{submissionId:r,artistPic:a,artistName:n,artistId:i||null,image:e,children:Object(P.jsx)("img",{srcSet:"".concat(e,"?w=248&fit=crop&auto=format 1x,\n            ").concat(e,"?w=248&fit=crop&auto=format&dpr=2 2x"),alt:n,loading:"lazy",style:{height:"250px",width:"100%"}})}),Object(P.jsx)(l.b,{className:c.link,to:{pathname:"/artist",state:"".concat(i)},children:Object(P.jsx)(Qa.a,{title:"By @".concat(n),classes:{titleWrap:c.by,root:c.titleBar}})})]},e)}))})},tr=n(299),nr=n.n(tr),ar=Object(ee.a)({"@global":{".MuiToolbar-root":{padding:0},".MuiToolbar-regular":{minHeight:0},"li.MuiImageListItem-root":{overflowY:"hidden"},"ul.li.MuiImageListItem-item":{padding:0},".MuiImageListItemBar-titleWrap":{color:"#333",marginTop:"12px"},".MuiImageListItemBar-title":{fontSize:"15px",fontWeight:"bolder",textDecoration:"underline",color:"white"},".MuiImageListItem-imgFullHeight":{opacity:"0.8"}}})((function(){return null}));function rr(){var e=Object(d.i)().id,t=Za(),n=Object(a.useState)(0),r=Object(B.a)(n,2),i=r[0],s=r[1],h=ve().updateSnackBarMessage,m=Object(a.useState)([]),f=Object(B.a)(m,2),x=f[0],v=f[1],y=Object(a.useState)(),N=Object(B.a)(y,2),C=N[0],k=N[1],S=R().loggedInUser,T=Object(o.a)({palette:{primary:{main:"#000000"},secondary:{main:"#3d3d3d"}}});Object(a.useEffect)((function(){function t(){return(t=Object(O.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ie(e);case 3:n=t.sent,v(n||[]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),h(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}S&&function(){t.apply(this,arguments)}()}),[S,e,h]),Object(a.useEffect)((function(){function t(){return(t=Object(O.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Le(e);case 3:(n=t.sent)&&k(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var I=function(e){return Object(P.jsx)("div",{role:"tabpanel",id:"".concat(e.index),children:i===e.index&&Object(P.jsx)(Ke.a,{children:Object(P.jsx)(p.a,{children:e.children})})})};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(u.a,{}),Object(P.jsx)(ar,{}),Object(P.jsx)(pe,{linkTo:S?"/create-contest":"/login",btnText:S?"create contest":"login"}),Object(P.jsxs)(Ke.a,{className:t.container,children:[Object(P.jsx)(b.a,{className:t.grid,container:!0,style:{marginBottom:"35px"},children:Object(P.jsx)(b.a,{item:!0,children:Object(P.jsx)(p.a,{children:Object(P.jsxs)(l.b,{to:"/discovery",className:t.greyText,children:[Object(P.jsx)(nr.a,{className:t.backIcon}),"Back to contests list"]})})})}),Object(P.jsxs)(b.a,{className:t.grid,container:!0,children:[Object(P.jsxs)(b.a,{item:!0,xs:12,sm:10,children:[Object(P.jsxs)(p.a,{className:t.contestTitle,children:[C?C.title:"",Object(P.jsx)(w.a,{className:t.prizeAmount,children:Object(P.jsxs)(p.a,{className:t.prize,children:["$",C?C.prizeAmount:"0"]})})]}),Object(P.jsxs)(b.a,{direction:"row",className:t.grid,container:!0,children:[Object(P.jsx)(b.a,{item:!0,children:Object(P.jsx)(l.b,{to:{pathname:"/artist",state:"".concat(null===C||void 0===C?void 0:C.userId)},children:Object(P.jsx)(F.a,{src:C&&(C.ownerProfilePic||"https://robohash.org/".concat(C.ownerName,".png")),className:t.avatar})})}),Object(P.jsx)(b.a,{item:!0,children:Object(P.jsxs)(p.a,{className:t.user,children:["By ",Object(P.jsx)("span",{className:t.username,children:C?C.ownerName:""})]})})]})]}),Object(P.jsx)(b.a,{item:!0,xs:12,sm:2,justifyContent:"center",alignItems:"center",children:(null===S||void 0===S?void 0:S.id)!==(null===C||void 0===C?void 0:C.userId)&&S?Object(P.jsx)(l.b,{to:"/submit-design/".concat(e),style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{variant:"outlined",size:"large",className:t.button,children:"submit design"})}):Object(P.jsx)(w.a,{variant:"outlined",size:"large",className:t.button,disabled:!0,children:"submit design"})})]}),Object(P.jsxs)(b.a,{container:!0,direction:"column",className:t.designGrid,children:[Object(P.jsx)(Ze.a,{className:t.toolbar,children:Object(P.jsx)(c.a,{theme:T,children:Object(P.jsxs)(Je.a,{className:t.tabs,value:i,onChange:function(e,t){s(t)},textColor:"primary",variant:"fullWidth",TabIndicatorProps:{style:{height:5}},children:[x.length&&Object(P.jsx)($e.a,{label:C&&C.images?"DESIGNS (".concat(C.images.length,")"):"DESIGNS (30)"}),Object(P.jsx)($e.a,{label:"BRIEF"})]})})}),Object(P.jsxs)(j.a,{elevation:2,children:[x.length?Object(P.jsx)(I,{value:i,index:0,children:Object(P.jsx)("div",{className:t.imageWrapper,children:Object(P.jsx)(Dn.a,{cols:4,gap:3,className:t.imageList,children:x.map((function(e){return Object(P.jsx)(er,{images:e.images,artistPic:e.artistPic,artistName:e.artistName,submissionId:e._id,artistId:e.artistId},e._id)}))})})}):null,Object(P.jsxs)(I,{value:i,index:x.length?1:0,children:[Object(P.jsx)(p.a,{align:"center",variant:"h3",className:t.descriptionHeader,children:"Tattoo Description:"}),Object(P.jsx)(p.a,{align:"center",variant:"h5",children:C?C.description:""}),Object(P.jsx)(Dn.a,{cols:4,gap:10,className:t.imageList,children:C&&C.images?C.images.map((function(e){return Object(P.jsx)(Wn.a,{cols:1,className:t.listItem,children:Object(P.jsx)(mt,{image:e,children:Object(P.jsx)("img",{srcSet:"".concat(e,"?w=248&fit=crop&auto=format 1x,\n                          ").concat(e,"?w=248&fit=crop&auto=format&dpr=2 2x"),alt:"".concat(e," inspiration"),loading:"lazy",className:t.image})})},e)})):null})]})]})]})]})]})}var ir=Object(m.a)((function(){return{fields:{width:"100%"}}}));function cr(e){var t=e.handleSubmit,n=ir();return Object(P.jsx)(N.a,{initialValues:{email:""},validationSchema:C.d().shape({email:C.f().required("Email is required").email("Email is not valid")}),onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.touched,c=e.errors,o=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,noValidate:!0,children:[Object(P.jsxs)(h.a,{mt:3,children:[Object(P.jsx)(p.a,{children:"Email"}),Object(P.jsx)(y.a,{id:"email",name:"email",margin:"normal",variant:"outlined",placeholder:"Email",className:n.fields,helperText:i.email?c.email:"",error:i.email&&Boolean(c.email),value:r.email,onChange:a})]}),Object(P.jsx)(h.a,{mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:n.fields,children:o?Object(P.jsx)(S.a,{style:{color:"white"}}):"Send Confirmation"})})]})}})}var or=Object(m.a)((function(){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},form:{padding:10,width:"25%",minWidth:"20%"}}}));function sr(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),c=Object(B.a)(i,2),o=c[0],s=c[1],l=or();return Object(P.jsxs)(h.a,{className:l.container,children:[Object(P.jsx)(h.a,{children:Object(P.jsx)(p.a,{align:"center",component:"h1",variant:"h5",children:"Forgot Password"})}),Object(P.jsx)(h.a,{mt:3,mb:3,boxShadow:4,component:j.a,className:l.form,children:n&&!o?Object(P.jsx)(h.a,{children:Object(P.jsx)(p.a,{align:"center",children:"A reset link has been sent to your email"})}):o?Object(P.jsx)(p.a,{align:"center",children:o}):Object(P.jsx)(cr,{handleSubmit:function(e){var t=e.email;Ra(t).then((function(e){e.error?s(e.error.message):s("")})),r((function(e){return!e}))}})})]})}var lr=Object(m.a)((function(){return{fields:{width:"100%"}}}));function dr(e){var t=e.handleSubmit,n=lr();return Object(P.jsx)(N.a,{initialValues:{password:"",confirmPassword:""},validationSchema:C.d().shape({password:C.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short"),confirmPassword:C.f().when("password",{is:function(e){return!!(e&&e.length>0)},then:C.f().oneOf([C.e("password")],"Password does not match!")})}),onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.touched,c=e.errors,o=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,noValidate:!0,children:[Object(P.jsxs)(h.a,{mt:3,children:[Object(P.jsx)(p.a,{children:"Password"}),Object(P.jsx)(y.a,{id:"password",name:"password",type:"password",margin:"normal",variant:"outlined",placeholder:"Password",className:n.fields,helperText:i.password?c.password:"",error:i.password&&Boolean(c.password),value:r.password,onChange:a})]}),Object(P.jsxs)(h.a,{mt:3,mb:3,children:[Object(P.jsx)(p.a,{children:"Confirm Password"}),Object(P.jsx)(y.a,{id:"confirmPassword",name:"confirmPassword",type:"password",margin:"normal",variant:"outlined",placeholder:"Confirm Password",className:n.fields,helperText:i.confirmPassword?c.confirmPassword:"",error:i.confirmPassword&&Boolean(c.confirmPassword),value:r.confirmPassword,onChange:a})]}),Object(P.jsx)(h.a,{mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:n.fields,children:o?Object(P.jsx)(S.a,{style:{color:"white"}}):"Update Password"})})]})}})}var ur=Object(m.a)((function(){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},form:{padding:10,width:"25%",minWidth:"20%"},linkContainer:{display:"flex",justifyContent:"space-around"},link:{border:"1px solid black",borderRadius:5,padding:5,textDecoration:"none",color:"#EEEEEE",backgroundColor:"#111111","&:hover":{backgroundColor:"gray"}}}}));function jr(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),c=Object(B.a)(i,2),o=c[0],s=c[1],u=ur(),b=Object(d.i)(),m=b.token,f=b.id;return Object(P.jsxs)(h.a,{className:u.container,children:[Object(P.jsx)(h.a,{children:Object(P.jsx)(p.a,{align:"center",component:"h1",variant:"h5",children:"Reset Password"})}),Object(P.jsx)(h.a,{mt:3,mb:3,boxShadow:4,component:j.a,className:u.form,children:n&&!o?Object(P.jsxs)(h.a,{children:[Object(P.jsx)(p.a,{align:"center",children:"Your password has be updated!"}),Object(P.jsxs)(h.a,{mt:2,mb:2,className:u.linkContainer,children:[Object(P.jsx)(l.b,{to:"/login",className:u.link,children:"Login"}),Object(P.jsx)(l.b,{to:"/dashboard",className:u.link,children:"Home"})]})]}):o?Object(P.jsx)(p.a,{align:"center",children:o}):Object(P.jsx)(dr,{handleSubmit:function(e){var t=e.password;Fa(t,m,f).then((function(e){e.error?s(e.error.message):s("")})),r((function(e){return!e}))}})})]})}var hr=n(660),br=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100vh",margin:0,padding:0,width:"100%"},container:{"& .MuiInput-underline:before":{borderBottom:"1.2px solid rgba(0, 0, 0, 0.2)"},backgroundColor:"#FFFFFF",flex:9,height:"calc(100vh - 400px)"},drawerWrapper:{maxHeight:"100%"},chatWrapper:Object(W.a)({height:"100%"},e.breakpoints.down("sm"),{height:"calc(100% - 50px)"}),paper:{maxHeight:"100%"}}})),pr=Object(m.a)((function(e){return{chatSideBanner:Object(W.a)({display:"flex",flexDirection:"column",height:"100%",padding:"1rem 1rem"},e.breakpoints.up("md"),{padding:"2rem"}),convosContainer:{overflowY:"scroll","&::-webkit-scrollbar":{display:"none"}},userPanel:{display:"flex",alignItems:"center",marginBottom:"2rem"},heading:{marginLeft:20,fontWeight:900},chatTitle:{fontWeight:700,fontSize:20,margin:"1rem 0"},chatSummaryContainer:{overflowY:"auto",marginTop:"1rem"},newChatBtn:{margin:"1rem 0"},noChatToSelectText:{margin:"1rem 0"}}})),mr=Object(m.a)((function(e){return{search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"#E9EEF9",marginLeft:0,height:"50px",lineHeight:"18px",width:"calc(".concat(240," - 2rem)")},searchRoot:{color:"inherit",width:"100%",height:"100%"},searchInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),width:"100%",fontWeight:600},searchIcon:{height:"100%",position:"absolute",pointerEvents:"none",marginLeft:"1rem",display:"flex",alignItems:"center",justifyContent:"center"}}})),fr=n(301),xr=n.n(fr),gr=n(313),Or=n(658),vr=n(673),wr="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/";function yr(e){return Nr.apply(this,arguments)}function Nr(){return(Nr=Object(O.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a={method:"GET",credentials:"include"},e.next=4,fetch(wr+"users?search=".concat(n),a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cr="https://vast-spire-21489.herokuapp.com/https://tattoo-art.herokuapp.com/",kr=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(Cr+"api/conversation",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Can not connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Sr=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch(Cr+"api/conversation/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Can not connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tr=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=3,fetch(Cr+"api/conversation",n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Can not connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ir=Object(a.createContext)({convo:[],setFriendId:function(e){return null},recipient:{_id:"",profilePic:"",username:""},setConvo:function(){}}),Pr=function(e){var t=e.children,n=Object(a.useState)(),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)({_id:"",profilePic:"",username:""}),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(),j=Object(B.a)(u,2),h=j[0],b=j[1];return Object(a.useEffect)((function(){h&&(c([]),d({_id:"",profilePic:"",username:""}),Sr(h).then((function(e){"username"in e?d(e):c(e)})).catch((function(e){console.log(e)})))}),[h]),Object(P.jsx)(Ir.Provider,{value:{convo:i,setFriendId:b,recipient:l,setConvo:c},children:t})};function Dr(){return Object(a.useContext)(Ir)}var Wr=function(e){var t=e.search,n=e.handleChange,r=Object(a.useState)(!1),i=Object(B.a)(r,2),c=i[0],o=i[1],s=Object(a.useState)([]),l=Object(B.a)(s,2),d=l[0],u=l[1],j=Object(a.useState)(!1),h=Object(B.a)(j,2),b=h[0],p=h[1],m=Object(vr.a)(t,500),f=Object(B.a)(m,1)[0],x=Dr().setFriendId,v=mr(),w=function(e){u(e)};Object(a.useEffect)((function(){var e=!0;function t(){return(t=Object(O.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),t.next=3,yr({search:f});case 3:n=t.sent,e&&n&&n.users&&(console.log(n),w(n.users)),p(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[f]);return Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault()},"data-tour":"search",children:Object(P.jsx)(Or.a,{id:"asynchronous-search",open:c,onOpen:function(){o(!0)},onClose:function(){o(!1)},getOptionSelected:function(e,t){return e.username===t.username},getOptionLabel:function(e){return e.username},options:d,loading:b,onChange:function(e,t){return function(e){e&&x(e.id)}(t)},onInputChange:n,inputValue:t,noOptionsText:"No Users Found",freeSolo:!0,renderInput:function(e){return Object(P.jsx)("div",{className:v.search,children:Object(P.jsx)(gr.a,Object(Qe.a)(Object(Qe.a)({},e.inputProps),{},{placeholder:"Search",classes:{root:v.searchRoot,input:v.searchInput},inputProps:{"aria-label":"search",ref:e.InputProps.ref},startAdornment:Object(P.jsx)("div",{className:v.searchIcon,children:Object(P.jsx)(xr.a,{})})}))})}})})},zr=Object(m.a)((function(){return{root:{borderRadius:8,borderTop:"rgba(0, 0, 0, .1)",borderBottom:"rgba(0, 0, 0, .1)",height:80,boxShadow:"0 2px 10px 0 rgba(88,133,196,0.05)",marginBottom:10,display:"flex",alignItems:"center","&:hover":{cursor:"pointer"}},profilePic:{height:44,width:44},badge:{height:13,width:13,borderRadius:"50%",border:"2px solid white",backgroundColor:"#D0DAE9"},online:{backgroundColor:"#1CED84"},sidebar:{marginLeft:17},date:{fontSize:12,color:"#9CADC8",letterSpacing:-.17,marginRight:15}}})),Br=Object(m.a)((function(){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",marginLeft:20,flexGrow:1},username:{textTransform:"capitalize",fontWeight:900},lastMessage:{fontSize:12,color:"#9CADC8",letterSpacing:-.17},notification:{height:20,width:20,backgroundColor:"#3F92FF",marginRight:10,color:"white",fontSize:10,letterSpacing:-.5,fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:10},chip:{margin:"1vw"}}})),Er=n(667),Ar=function(e){var t=e.username,n=e.lastMessage,r=Br(),i=Object(a.useState)(0),c=Object(B.a)(i,2),o=c[0],s=c[1];return Object(P.jsxs)(h.a,{className:r.root,onClick:function(){return s(0)},children:[Object(P.jsxs)(h.a,{children:[Object(P.jsxs)(p.a,{className:r.username,children:[t.slice(0,15),t.length>40?"...":""]}),Object(P.jsxs)(p.a,{className:r.lastMessage,children:[n.slice(0,40),n.length>40?"...":""]})]}),o?Object(P.jsx)(Er.a,{color:"primary",label:o,className:r.chip}):null]})},_r=function(e){var t=e.convo,n=e.closeDrawer,r=Object(a.useState)(!1),i=Object(B.a)(r,2),c=i[0],o=(i[1],zr()),s=Dr().setFriendId,l=R().loggedInUser,d=t.recipients.filter((function(e){return l&&e._id!==l.id})),u=Object(B.a)(d,1)[0],j=new Date(t.updatedAt);return u?Object(P.jsxs)(h.a,{className:o.root,onClick:function(){s(u._id),n&&n(!1)},children:[Object(P.jsx)(Q.a,{classes:{badge:"".concat(o.badge," ").concat(c&&o.online)},variant:"dot",anchorOrigin:{horizontal:"right",vertical:"bottom"},overlap:"circular",children:Object(P.jsx)(F.a,{alt:u.username,src:u.profilePic,className:o.profilePic})}),Object(P.jsx)(Ar,{username:u.username,lastMessage:t.lastMessage}),Object(P.jsx)(h.a,{children:Object(P.jsx)(p.a,{className:o.date,children:j.toString().slice(0,10)})})]}):Object(P.jsx)("div",{})},Lr=function(e){var t=e.convos,n=e.closeDrawer,r=Object(a.useState)("test"),i=Object(B.a)(r,2),c=i[0],o=i[1],s=Object(a.useState)(null),l=Object(B.a)(s,2),d=l[0],u=l[1],j=pr();return Object(P.jsxs)(b.a,{className:j.chatSideBanner,children:[Object(P.jsx)(h.a,{className:j.userPanel,children:Object(P.jsx)(p.a,{variant:"h5",className:j.heading,children:"Inbox Messages"})}),Object(P.jsx)(h.a,{marginBottom:3,children:Object(P.jsx)(Wr,{search:c,handleChange:function(e,t){o(t),d&&u(null)}})}),Object(P.jsx)(h.a,{className:j.convosContainer,children:t&&t.map((function(e){return Object(P.jsx)(_r,{convo:e,closeDrawer:n},e._id)}))})]})},Rr=Object(m.a)((function(){return{root:{display:"flex",flexDirection:"column",height:"100%"},activeChat:{height:"100%"},chatContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"0 20px","&::-webkit-scrollbar":{display:"none"},height:"100%",overflowY:"scroll"}}})),Fr=n(302),Mr=n.n(Fr),Ur=Object(m.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",height:89,marginBottom:34,boxShadow:"0 2px 20px 0 rgba(88,133,196,0.10)"},content:{display:"flex",alignItems:"center",marginLeft:24},username:{textTransform:"capitalize",fontSize:20,letterSpacing:-.29,fontWeight:"bold",margin:"0 14px"},statusText:{fontSize:12,color:"#BFC9DB",letterSpacing:-.17},statusDot:{height:8,width:8,borderRadius:"50%",marginRight:5,backgroundColor:"#D0DAE9"},online:{backgroundColor:"#1CED84"},offline:{backgroundColor:"#D0DAE9"},ellipsis:{color:"#95A7C4",marginRight:24,opacity:.5}}})),Gr=Object(ee.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(Q.a),qr=function(e){e.online;var t=e.username,n=e.profilePic,a=Ur();return Object(P.jsxs)(h.a,{className:a.root,children:[Object(P.jsxs)(h.a,{className:a.content,children:[Object(P.jsx)(Gr,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(P.jsx)(F.a,{alt:"Profile Image",src:n})}),Object(P.jsx)(p.a,{className:a.username,children:t})]}),Object(P.jsx)(Mr.a,{classes:{root:a.ellipsis}})]})},Vr=n(625),Yr=Object(m.a)((function(e){return{root:{marginTop:15,position:"sticky",bottom:5,width:"100%"},inputContainer:Object(W.a)({height:"100px"},e.breakpoints.down("md"),{padding:0}),input:{borderRadius:5,width:"100%"}}})),Hr=function(e){var t=e.otherUserId,n=e.otherUsername,r=e.displayMessage,i=Yr(),c=Object(a.useRef)(),o=R().loggedInUser,s=de().socket,l=function(){var e=Object(O.a)(g.a.mark((function e(n){var a,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!o){e.next=8;break}return c.current&&(r(c.current.value),c.current.value=""),a={to:t,notification:"".concat(null===o||void 0===o?void 0:o.username," sent you a message")},e.next=6,ne(a);case 6:i=e.sent,null===s||void 0===s||s.emit("sendNotification",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("form",{onSubmit:l,autoComplete:"off",children:Object(P.jsx)(Vr.a,{fullWidth:!0,hiddenLabel:!0,children:Object(P.jsx)(b.a,{container:!0,alignContent:"center",className:i.inputContainer,children:Object(P.jsx)(b.a,{item:!0,xs:12,children:Object(P.jsx)(y.a,{placeholder:"Reply to ".concat(n),className:i.input,name:"text",margin:"normal",variant:"outlined",fullWidth:!0,inputProps:{ref:c}})})})})})},Jr=Object(m.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column",alignItems:"flex-end"},date:{fontSize:11,color:"#BECCE2",fontWeight:"bold",marginBottom:5},text:{fontSize:"1rem",padding:8,fontWeight:700},bubble:(t={background:"#F4F6FA",borderRadius:"10px 10px 0 10px",margin:"10px 2rem 10px 10px"},Object(W.a)(t,e.breakpoints.down("sm"),{margin:10}),Object(W.a)(t,"border","1px solid rgba(0, 0, 0, .2)"),Object(W.a)(t,"width","fit-content"),t),avatar:{height:25,width:25,marginTop:6}}})),$r=function(e){e.time;var t=e.text,n=Jr();return Object(P.jsx)(h.a,{display:"flex",justifyContent:"flex-end",children:Object(P.jsx)(h.a,{width:"50%",maxWidth:"45%",display:"flex",justifyContent:"flex-end",children:Object(P.jsx)(h.a,{className:n.bubble,children:Object(P.jsx)(p.a,{className:n.text,children:t})})})})},Kr=Object(m.a)((function(e){return{avatar:{margin:"10px 2rem 10px 10px"},usernameDate:{fontSize:11,color:"#BECCE2",fontWeight:"bold",marginBottom:5},bubble:Object(W.a)({border:"1px solid rgba(0, 0, 0, .2)",borderRadius:"0 10px 10px 10px",minWidth:"min-content",margin:"10px 2rem 10px 10px"},e.breakpoints.down("sm"),{margin:10}),text:{fontSize:"1rem",fontWeight:700,padding:8}}})),Zr=function(e){e.time;var t=e.text,n=e.otherUsername,a=e.otherPhoto,r=Kr();return Object(P.jsxs)(h.a,{display:"flex","flex-direction":"column",alignItems:"flex-end",maxWidth:"90%",children:[Object(P.jsx)(F.a,{alt:n,src:a,className:r.avatar}),Object(P.jsx)(h.a,{maxWidth:"50%",children:Object(P.jsx)(h.a,{className:r.bubble,children:Object(P.jsx)(p.a,{className:r.text,children:t})})})]})},Qr=Object(m.a)((function(e){return{root:{overflowY:"scroll","&::-webkit-scrollbar":{display:"none"},paddingBottom:20}}})),Xr=function(e){var t=e.convo,n=Qr(),r=R().loggedInUser,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){i.current&&i.current.scrollIntoView()}),[t]),Object(P.jsxs)(h.a,{className:n.root,children:[t&&t.map((function(e){var t=zt()(e.createdAt).format("MMM Do h:mm");return r&&e.senderId===r.id?Object(P.jsx)($r,{text:e.text,time:t,latest:!1,image:e.senderPic,imageAlt:e.senderName},e._id):Object(P.jsx)(Zr,{text:e.text,time:t,otherUsername:e.senderName,otherPhoto:e.senderPic},e._id)})),Object(P.jsx)("div",{ref:i})]})};function ei(){var e=Rr(),t=Dr(),n=t.convo,r=t.recipient,i=t.setConvo,c=R().loggedInUser,o=de(),s=o.socket,l=o.message,d=Object(a.useState)(),u=Object(B.a)(d,2),b=u[0],p=u[1],m=Object(a.useState)(0),f=Object(B.a)(m,2),x=f[0],g=f[1];Object(a.useEffect)((function(){var e=c&&n&&n.length&&c.id===n[0].senderId?{_id:n[0].recipientId,username:n[0].recipientName,profilePic:n[0].recipientPic}:n&&n.length?{_id:n[0].senderId,username:n[0].senderName,profilePic:n[0].senderPic}:r;p(e)}),[n,c,r]),Object(a.useEffect)((function(){if(l){var e=n&&n.length?[].concat(Object(ce.a)(n),[l]):[l];i(e)}}),[x]);var O=function(e,t,n){var a={_id:x.toString(),conversationId:x.toString(),senderId:e.id,senderName:e.username,senderPic:e.profilePic,recipientId:t._id,recipientName:t.username,recipientPic:t.profilePic,text:n,createdAt:(new Date).toString()};return g((function(e){return e+1})),a};return b&&b.username?Object(P.jsxs)(j.a,{className:e.root,children:[Object(P.jsx)(qr,{online:!1,username:b.username,profilePic:b.profilePic}),Object(P.jsxs)(h.a,{className:e.chatContainer,children:[Object(P.jsx)(Xr,{convo:n}),Object(P.jsx)(Hr,{otherUserId:b._id,otherUsername:b.username,displayMessage:function(e){if(c&&b){var t=O(c,b,e),a=(null===n||void 0===n?void 0:n.length)?[].concat(Object(ce.a)(n),[t]):[t];i(a),null===s||void 0===s||s.emit("send-message",c.id,c.profilePic,b._id,b.profilePic,e),Tr({to:b._id,message:e})}}})]})]}):Object(P.jsx)("div",{})}var ti=n(668),ni=Object(m.a)((function(){return{expandBtn:{"&:hover":{backgroundColor:"white",color:"black",border:"1px solid black"},width:"90vw",borderRadius:0,margin:"5px 0",border:"1px solid white"},paper:{maxWidth:"80%"}}})),ai=function(e){var t=e.convos,n=Object(a.useState)(!1),r=Object(B.a)(n,2),i=r[0],c=r[1],o=ni();return Object(P.jsx)("div",{children:Object(P.jsxs)(a.Fragment,{children:[Object(P.jsx)(h.a,{display:"flex",justifyContent:"center",width:"100%",children:Object(P.jsx)(w.a,{onClick:function(){return c(!i)},color:"primary",size:"large",variant:"contained",className:o.expandBtn,children:"All Conversations"})}),Object(P.jsx)(ti.a,{anchor:"left",classes:{paper:o.paper},open:i,onClose:function(){return c(!i)},children:Object(P.jsx)(Lr,{convos:t,closeDrawer:c})})]})})};function ri(){var e=br(),t=R().loggedInUser,n=Object(d.g)(),r=de().initSocket,i=Object(a.useState)([]),c=Object(B.a)(i,2),o=c[0],s=c[1],l=rt().setOpen,j=[{selector:'[data-tour="search"]',content:{words:"Search for any user on our platform to start a conversation.",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"}},{selector:'[data-tour="search"]',content:{words:"Search for any user on our platform to start a conversation.",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"},action:function(){l(!1),n.push("/discovery")}}];return Object(a.useEffect)((function(){kr().then((function(e){e&&s(e)}))}),[]),Object(a.useEffect)((function(){r()}),[r]),void 0===t?Object(P.jsx)(S.a,{}):t?Object(P.jsxs)(Pr,{children:[Object(P.jsxs)(Ke.a,{classes:{root:e.root},maxWidth:!1,children:[Object(P.jsx)(pe,{btnText:"create contest",linkTo:"/create-contest"}),Object(P.jsxs)(b.a,{container:!0,component:"main",className:e.container,children:[Object(P.jsx)(u.a,{}),Object(P.jsxs)(b.a,{item:!0,xs:12,md:6,lg:4,className:e.drawerWrapper,children:[Object(P.jsx)(hr.a,{smDown:!0,children:Object(P.jsx)(Lr,{convos:o})}),Object(P.jsx)(hr.a,{mdUp:!0,children:Object(P.jsx)(ai,{convos:o})})]}),Object(P.jsx)(b.a,{item:!0,xs:12,md:6,lg:8,className:e.chatWrapper,children:Object(P.jsx)(ei,{})})]})]}),Object(P.jsx)(it,{steps:j})]}):(n.push("/login"),Object(P.jsx)(S.a,{}))}n(564),n(565);var ii=function(){return Object(P.jsx)(c.a,{theme:s,children:Object(P.jsx)(l.a,{children:Object(P.jsx)(Oe,{children:Object(P.jsx)(L,{children:Object(P.jsx)(le,{children:Object(P.jsx)(je,{children:Object(P.jsx)(at,{children:Object(P.jsxs)(d.d,{children:[Object(P.jsx)(d.b,{exact:!0,path:"/login",component:we}),Object(P.jsx)(d.b,{exact:!0,path:"/signup",component:Ye}),Object(P.jsx)(d.b,{exact:!0,path:"/submit-design/:id",component:Me}),Object(P.jsx)(d.b,{exact:!0,path:"/profile",component:yt}),Object(P.jsx)(d.b,{exact:!0,path:"/messages",component:ri}),Object(P.jsx)(d.b,{exact:!0,path:"/create-contest",component:Vn}),Object(P.jsx)(d.b,{exact:!0,path:"/settings",component:Ka}),Object(P.jsx)(d.b,{exact:!0,path:"/notifications",component:Va}),Object(P.jsx)(d.b,{exact:!0,path:"/contest/:id",component:rr}),Object(P.jsx)(d.b,{exact:!0,path:"/forgot-password",component:sr}),Object(P.jsx)(d.b,{path:"/reset-password/:token/:id",component:jr}),Object(P.jsx)(d.b,{exact:!0,path:"/artist",component:Na}),Object(P.jsx)(d.b,{exact:!0,path:"/dashboard",component:In}),Object(P.jsx)(d.b,{path:"*",children:Object(P.jsx)(d.a,{to:"/dashboard"})})]})})})})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(P.jsx)(ii,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[566,1,2]]]);
//# sourceMappingURL=main.2bf584e7.chunk.js.map